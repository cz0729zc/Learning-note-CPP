# CPP å­¦ä¹ éšç¬”

**å­¦ä¹ èµ„æº**ï¼š[Cherno C++ ç³»åˆ—](https://www.bilibili.com/video/BV1VJ411M7WR?spm_id_from=333.788.player.switch&vd_source=c899b188b620426fe3181bd45fd4e21b&p=1)

---

## æŒ‡é’ˆä¸å¼•ç”¨ (Pointers & References)

å¼•ç”¨æœ¬è´¨ä¸Šæ˜¯ç»™å˜é‡å–äº†ä¸€ä¸ªåˆ«åã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œèƒ½ç”¨å¼•ç”¨å®Œæˆçš„ä»»åŠ¡ï¼Œä½¿ç”¨æŒ‡é’ˆä¹Ÿèƒ½å®Œæˆï¼Œä½†å¼•ç”¨æ›´å®‰å…¨ã€æ›´æ˜“è¯»ã€‚

### ä»£ç ç¤ºä¾‹ï¼šç±»çº§ static

```cpp
#include <iostream>
#include "Log.h"

// å¸¸è§å®å‚ä¼ é€’ï¼šå‚æ•°ä¸ºæŒ‡é’ˆ
// åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå˜é‡ value å­˜å‚¨å˜é‡ a çš„åœ°å€
// åœ¨å‡½æ•°å†…æ”¹å˜å€¼çš„æ—¶å€™ï¼Œéœ€è¦å¯¹æŒ‡é’ˆè¿›è¡Œè§£å¼•ç”¨ (*value)
void FunctionA(int* value) {
    (*value)++;
}

// å¸¸è§å®å‚ä¼ é€’ï¼šå‚æ•°ä¸ºå¼•ç”¨
// åˆ›å»ºä¸€ä¸ªä¼ é€’å‚æ•°å˜é‡çš„å¼•ç”¨ï¼Œæ­¤æ—¶ value å’Œ a ç­‰ä»·
// åœ¨å‡½æ•°å†…æ”¹å˜å€¼çš„æ—¶å€™æ­£å¸¸æ“ä½œå³å¯ï¼Œè¯­æ³•æ›´ç®€æ´
void FunctionB(int& value) {
    value += 2;
}

int main(int, char**) {
    int a = 5;
    int b = 10;

    int& ref = a;  // å®šä¹‰ ref ä¸º a çš„å¼•ç”¨ï¼Œæ­¤æ—¶ ref å’Œ a ç­‰ä»·
    ref = b;       // å°† b çš„å€¼èµ‹ç»™ a (å› ä¸º ref å°±æ˜¯ a)ï¼Œæ­¤æ—¶ a=10, b=10
    ref++;         // å¼•ç”¨æ— æ³•é‡å®šå‘ (Reseat)ï¼Œæ“ä½œ ref ä¾æ—§æ˜¯åœ¨æ“ä½œ a
                   // æ­¤æ—¶ a=11, b=10

    std::cout << "a: " << a << ", b: " << b << std::endl;

    // FunctionA(&a);
    // FunctionB(a);
    
    return 0;
}
```

### æ ¸å¿ƒåŒºåˆ«ï¼šclass vs struct

   > [!IMPORTANT]
   > **å¿…é¡»åˆå§‹åŒ–**
   > å¼•ç”¨åœ¨å®šä¹‰æ—¶**å¿…é¡»**åˆå§‹åŒ–ï¼ˆ`int& r = a;`ï¼‰ï¼Œä¸èƒ½åƒæŒ‡é’ˆé‚£æ ·å…ˆå£°æ˜åèµ‹å€¼ã€‚

   > [!TIP]
   > **ç©ºå€¼æ£€æŸ¥**
   > å¼•ç”¨åœ¨è¯­ä¹‰ä¸Š**ä¸å¯èƒ½ä¸ºç©º**ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨å¼•ç”¨é€šå¸¸æ¯”æŒ‡é’ˆæ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒä¿è¯äº†å¯¹è±¡çš„æœ‰æ•ˆæ€§ã€‚

---

## ç±»ä¸ç»“æ„ä½“ (Classes vs Structs)

åœ¨ C++ ä¸­ï¼Œ`struct` å’Œ `class` çš„åŒºåˆ«éå¸¸å°ï¼Œå®ƒä»¬åœ¨åŠŸèƒ½ä¸Šå‡ ä¹æ˜¯ç­‰ä»·çš„ã€‚

### ä»£ç ç¤ºä¾‹ï¼šæ„é€ ä¸ææ„

ä»¥ä¸‹ä¸¤ç§å®šä¹‰åœ¨åŠŸèƒ½ä¸Šå®Œå…¨ç›¸åŒï¼š

```cpp
// Struct é»˜è®¤æˆå‘˜ä¸º Public
struct PlayerStruct {
    int x, y;
    void Move(int xa, int ya) { x += xa; y += ya; }
};

// Class é»˜è®¤æˆå‘˜ä¸º Private
class PlayerClass {
public: // éœ€è¦æ˜¾å¼å£°æ˜ public æ‰èƒ½è¾¾åˆ°ä¸ struct ç›¸åŒçš„æ•ˆæœ
    int x, y;
    void Move(int xa, int ya) { x += xa; y += ya; }
};
```

### æ ¸å¿ƒåŒºåˆ«

1. **é»˜è®¤å¯è§æ€§ (Visibility)**
   * **Class**ï¼šæˆå‘˜é»˜è®¤ä¸º `private`ã€‚
   * **Struct**ï¼šæˆå‘˜é»˜è®¤ä¸º `public`ã€‚
   * *æ³¨ï¼šç»§æ‰¿æ—¶ï¼Œ`class` é»˜è®¤ä¸ºç§æœ‰ç»§æ‰¿ï¼Œ`struct` é»˜è®¤ä¸ºå…¬æœ‰ç»§æ‰¿ã€‚*

2. **ä½¿ç”¨ä¹ æƒ¯ (Conventions)**
   * **Struct**ï¼šé€šå¸¸ç”¨äº **POD (Plain Old Data)** ç±»å‹ï¼Œå³åªåŒ…å«æ•°æ®çš„è¢«åŠ¨å®¹å™¨ï¼ˆå¦‚å‘é‡ `Vec2`ã€é…ç½®å‚æ•°ï¼‰ã€‚
   * **Class**ï¼šé€šå¸¸ç”¨äºå…·æœ‰å¤æ‚åŠŸèƒ½ã€å°è£…é€»è¾‘å’Œç»§æ‰¿ä½“ç³»çš„ä¸»åŠ¨å¯¹è±¡ã€‚

> [!NOTE]
> **å­˜åœ¨çš„æ„ä¹‰**
> C++ ä¿ç•™ `struct` ä¸»è¦æ˜¯ä¸ºäº†ä¿æŒä¸ C è¯­è¨€çš„å‘åå…¼å®¹æ€§ã€‚

---

## æ•°ç»„åŸºç¡€ (Arrays Basics)

è¿™ä¸€éƒ¨åˆ†ç»“åˆæ•™ç¨‹ç¬¬ 31p å’Œ `main.cpp` çš„ç¤ºä¾‹ï¼Œæ€»ç»“ C++ ä¸­ä¸¤ç§å¸¸è§çš„â€œå®šé•¿æ•°ç»„â€å½¢å¼ï¼š

1. **åŸç”Ÿæ•°ç»„**ï¼ˆä¹Ÿå« C é£æ ¼æ•°ç»„ï¼ŒC-style arrayï¼‰ï¼›
2. **`std::array`ï¼ˆStandard Arrayï¼‰**ï¼šæ ‡å‡†åº“æä¾›çš„å®šé•¿æ•°ç»„å°è£…ç±»æ¨¡æ¿ï¼ˆClass Templateï¼‰ã€‚

### 1. åŸç”Ÿæ•°ç»„ï¼ˆC é£æ ¼æ•°ç»„ï¼‰

```cpp
#include <iostream>

void DemoRawArray()
{
    // åœ¨æ ˆä¸Šåˆ›å»ºä¸€ä¸ªå¤§å°ä¸º 5 çš„ int æ•°ç»„ï¼Œå¤§å°åœ¨ç¼–è¯‘æœŸå›ºå®š
    int raw[5] = { 1, 2, 3, 4, 5 };

    std::cout << "[Raw array]" << std::endl;

    // ä½¿ç”¨ä¸‹æ ‡è®¿é—®å…ƒç´ ï¼ˆä¸ä¼šåšè¾¹ç•Œæ£€æŸ¥ï¼‰
    for (int i = 0; i < 5; ++i)
    {
        std::cout << "raw[" << i << "] = " << raw[i] << std::endl;
    }

    // æ•°ç»„ååœ¨å¤§å¤šæ•°è¡¨è¾¾å¼ä¸­ä¼šâ€œè¡°å‡â€(decay) ä¸ºæŒ‡å‘é¦–å…ƒç´ çš„æŒ‡é’ˆ
    int* p = raw;
    std::cout << "first element via pointer: " << *p << std::endl;
}
```

> [!IMPORTANT]
> **åŸç”Ÿæ•°ç»„çš„å‡ ä¸ªç‰¹ç‚¹**
>
> * å¤§å°åœ¨ç¼–è¯‘æœŸå›ºå®šï¼Œä¸èƒ½åœ¨è¿è¡Œæ—¶åŠ¨æ€æ”¹å˜å¤§å°ï¼ˆ`int raw[n]` ä¸­çš„ `n` å¿…é¡»æ˜¯ç¼–è¯‘å™¨èƒ½ç¡®å®šçš„å¸¸é‡ï¼Œæ ‡å‡† C++ ä¸‹å¦‚æ­¤ï¼‰ã€‚
> * åå­—åœ¨å¤§å¤šæ•°è¡¨è¾¾å¼ä¸­ä¼šè¡°å‡(decay) ä¸º `T*` æŒ‡é’ˆï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤š C é£æ ¼å‡½æ•°å‚æ•°å†™ `int*` çš„åŸå› ã€‚
> * ä½¿ç”¨ `raw[i]` ä¸ä¼šåšè¶Šç•Œæ£€æŸ¥ï¼Œ`i` å†™é”™äº†ç¼–è¯‘å™¨ä¹Ÿä¸ä¼šæç¤ºï¼Œè¿è¡Œæ—¶å¯èƒ½å¯¼è‡´æœªå®šä¹‰è¡Œä¸º(Undefined Behavior)ã€‚

åŸç”Ÿæ•°ç»„é€‚åˆç®€å•ã€åº•å±‚ã€å¯¹æ€§èƒ½å’Œå†…å­˜å¸ƒå±€æœ‰è¾ƒå¼ºè¦æ±‚çš„åœºæ™¯ï¼Œä½†å®‰å…¨æ€§ä¸é«˜ï¼Œéœ€è¦è‡ªå·±éå¸¸å°å¿ƒè¾¹ç•Œç®¡ç†ã€‚

### 2. `std::array`ï¼šæ›´å®‰å…¨çš„å®šé•¿æ•°ç»„å°è£…

`std::array`ï¼ˆStandard Arrayï¼‰æ˜¯ C++ æ ‡å‡†åº“æä¾›çš„ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨æ¥å°è£…â€œ**å›ºå®šå¤§å°ã€åœ¨æ ˆä¸Šåˆ†é…**â€çš„æ•°ç»„ï¼š

```cpp
#include <iostream>
#include <array>

void DemoStdArray()
{
    // æ¨¡æ¿å‚æ•°ï¼šå…ƒç´ ç±»å‹ + å¤§å°
    std::array<int, 5> arr1{};                  // åˆ—è¡¨åˆå§‹åŒ–ä¸º 0
    std::array<int, 5> arr2 = { 1, 2, 3, 4, 5 };

    std::cout << "[std::array basic]" << std::endl;

    // fill: å¡«å……æ•´ä¸ªæ•°ç»„
    arr1.fill(4);

    // at: å¸¦è¾¹ç•Œæ£€æŸ¥çš„è®¿é—®ï¼ˆè¿è¡ŒæœŸæ£€æŸ¥ï¼Œä¸‹æ ‡è¶Šç•Œä¼šæŠ›å¼‚å¸¸ï¼‰
    std::cout << "arr2.at(4) = " << arr2.at(4) << std::endl;

    // front / back: ç¬¬ä¸€ä¸ª / æœ€åä¸€ä¸ªå…ƒç´ 
    std::cout << "front = " << arr2.front() << std::endl;
    std::cout << "back  = " << arr2.back()  << std::endl;

    // data: è¿”å›åº•å±‚åŸç”Ÿæ•°ç»„çš„æŒ‡é’ˆï¼Œå¯ä»¥ä¸ C é£æ ¼ API äº¤äº’
    std::cout << "data pointer = " << arr2.data() << std::endl;

    // size / empty
    std::cout << "size  = " << arr2.size()  << std::endl;
    std::cout << "empty = " << std::boolalpha << arr2.empty() << std::endl;

    std::cout << "\n[std::array iterate]" << std::endl;

    // è¿­ä»£å™¨ç±»å‹æ˜¯ std::array<int,5>::iteratorï¼Œä¸æ˜¯ int*
    for (auto it = arr2.begin(); it != arr2.end(); ++it)
    {
        std::cout << *it << " ";
    }
    std::cout << std::endl;

    std::cout << "\n[std::array compare]" << std::endl;

    // æ¯”è¾ƒè¿ç®—ç¬¦ï¼šæŒ‰å…ƒç´ é€ä¸ªæ¯”è¾ƒï¼ˆè¯å…¸åºï¼Œlexicographical orderï¼‰
    std::cout << "arr1 == arr2 : " << (arr1 == arr2) << std::endl;
    std::cout << "arr1 != arr2 : " << (arr1 != arr2) << std::endl;
    std::cout << "arr1 <  arr2 : " << (arr1 <  arr2) << std::endl;
    std::cout << "arr1 <= arr2 : " << (arr1 <= arr2) << std::endl;

    std::cout << "\n[std::array swap]" << std::endl;

    // swap: äº¤æ¢ä¸¤ä¸ªæ•°ç»„ï¼ˆå¤§å°å’Œç±»å‹å¿…é¡»ç›¸åŒï¼‰
    arr1.swap(arr2);

    std::cout << "arr1 after swap: ";
    for (auto v : arr1)
        std::cout << v << ' ';
    std::cout << std::endl;

    std::cout << "arr2 after swap: ";
    for (auto v : arr2)
        std::cout << v << ' ';
    std::cout << std::endl;
}
```

> [!TIP]
> **ç›¸å¯¹äºåŸç”Ÿæ•°ç»„ï¼Œ`std::array` æä¾›çš„é¢å¤–èƒ½åŠ›**
>
> * æˆå‘˜å‡½æ•°ï¼š`size()` / `empty()` / `fill()` / `front()` / `back()` / `data()` ç­‰ï¼›
> * å®‰å…¨è®¿é—®ï¼š`at(index)` ä¼šåšè¿è¡ŒæœŸè¾¹ç•Œæ£€æŸ¥ï¼Œè¶Šç•Œæ—¶æŠ›å‡ºå¼‚å¸¸è€Œä¸æ˜¯é™é»˜åœ°äº§ç”Ÿæœªå®šä¹‰è¡Œä¸ºï¼›
> * è¿­ä»£å™¨(Iterator)ï¼šå¯ä»¥ç”¨ `begin()` / `end()` é…åˆ `for` å¾ªç¯å’Œæ ‡å‡†ç®—æ³•(`std::sort` / `std::find` ç­‰)ï¼›
> * æ”¯æŒæ¯”è¾ƒè¿ç®—ç¬¦ï¼šæŒ‰å…ƒç´ åšè¯å…¸åº(lexicographical order) æ¯”è¾ƒï¼Œé€‚åˆæ’åºæˆ–æ”¾åœ¨å…³è”å®¹å™¨é‡Œã€‚

### 3. ä»€ä¹ˆæ—¶å€™ç”¨åŸç”Ÿæ•°ç»„ï¼Œä»€ä¹ˆæ—¶å€™ç”¨ `std::array`ï¼Ÿ

> [!IMPORTANT]
> **ç®€å•ç»éªŒ**
>
> * éœ€è¦å›ºå®šå¤§å°çš„æ ˆæ•°ç»„ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°ç»„ä¼šåœ¨å¤šä¸ªå‡½æ•°ä¹‹é—´ä¼ é€’ã€æ“ä½œï¼šä¼˜å…ˆç”¨ `std::array`ï¼›
> * åªæ˜¯åœ¨å±€éƒ¨å‡½æ•°é‡Œæš‚æ—¶ç”¨ä¸€ä¸‹ï¼Œè€Œä¸”éå¸¸ç®€å•ï¼ˆæ¯”å¦‚ `int a[3] = {1,2,3};`ï¼‰ï¼šç”¨åŸç”Ÿæ•°ç»„ä¹Ÿæ²¡é—®é¢˜ï¼›
> * éœ€è¦å’Œ C æ¥å£äº¤äº’æ—¶ï¼šå¯ä»¥ç”¨ `std::array` + `.data()` æ‹¿åˆ°åº•å±‚æŒ‡é’ˆï¼Œä¸¤è¾¹éƒ½èƒ½å…¼é¡¾ã€‚

ä»å­¦ä¹ è§’åº¦ï¼ŒåŸç”Ÿæ•°ç»„å¯ä»¥å¸®åŠ©ä½ ç†è§£æŒ‡é’ˆã€å†…å­˜å¸ƒå±€è¿™äº›åº•å±‚æ¦‚å¿µï¼Œè€Œåœ¨çœŸå®é¡¹ç›®ä¸­ï¼Œ`std::array`ï¼ˆå’Œåé¢ä¼šå­¦åˆ°çš„ `std::vector`ï¼ŒStandard Vectorï¼‰ä¼šæ›´å¸¸ç”¨ï¼Œæ›´å®‰å…¨ä¹Ÿæ›´å¥½ç»„åˆåˆ°æ³›å‹ç®—æ³•é‡Œã€‚

---

## const å…³é”®å­—ä¸åªè¯»è¯­ä¹‰ (const Keyword & Read-Only Semantics)

è¿™ä¸€éƒ¨åˆ†ç»“åˆæ•™ç¨‹ç¬¬ 34p å’Œ `main.cpp` ä¸­çš„ä»£ç ï¼Œæ€»ç»“ C++ é‡Œ `const` å…³é”®å­—çš„å‡ ä¸ªå…¸å‹ç”¨æ³•ï¼š

1. ä¿®é¥°å˜é‡ï¼šåªè¯»å˜é‡ï¼ˆæœ‰æ—¶ä¹Ÿå«å¸¸é‡ï¼‰ï¼›
2. ä¿®é¥°æŒ‡é’ˆï¼š**â€œæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ (pointer to const)â€** å’Œ **â€œæŒ‡é’ˆå¸¸é‡ (const pointer)â€** ä»¥åŠä¸¤è€…ç»“åˆï¼›
3. ä¿®é¥°æˆå‘˜å‡½æ•°ï¼š**å¸¸é‡æˆå‘˜å‡½æ•° (const member function)**ï¼›
4. ç‰¹æ®Šå…³é”®å­— `mutable`ï¼ˆMutable Keywordï¼‰ï¼šåœ¨ `const` æˆå‘˜å‡½æ•°é‡Œå¯ä»¥è¢«ä¿®æ”¹çš„æˆå‘˜ã€‚

### 1. const å˜é‡ï¼šåªè¯»ä½†ä¸ä¸€å®šæ˜¯çœŸæ­£â€œå¸¸é‡è¡¨è¾¾å¼â€

```cpp
int main()
{
    const int MAX_AGE = 90;   // åªè¯»å˜é‡ï¼šä¹‹åä¸èƒ½å†é€šè¿‡ MAX_AGE ä¿®æ”¹è¿™ä¸ªå€¼

    // MAX_AGE = 100;        // âŒ é”™è¯¯ï¼šä¸èƒ½ç»™ const å˜é‡é‡æ–°èµ‹å€¼
}
```

> [!IMPORTANT]
> **const å˜é‡çš„å«ä¹‰**
>
> * å¯¹äºå˜é‡æ¥è¯´ï¼Œ`const` è¡¨ç¤ºâ€œ**ä¸èƒ½é€šè¿‡è¿™ä¸ªåå­—ä¿®æ”¹å®ƒ**â€ã€‚
> * å¦‚æœåˆå§‹åŒ–æ—¶ä½¿ç”¨çš„æ˜¯ç¼–è¯‘æœŸå¸¸é‡è¡¨è¾¾å¼ï¼ˆConstant Expressionï¼‰ï¼Œæœ‰äº›æƒ…å†µä¸‹ç¼–è¯‘å™¨ä¼šæŠŠå®ƒå½“æˆçœŸæ­£çš„å¸¸é‡ç”¨äºä¼˜åŒ–ï¼ˆæ¯”å¦‚æ•°ç»„å¤§å°ç­‰ï¼‰ã€‚

### 2. const ä¸æŒ‡é’ˆï¼šè°æ˜¯å¸¸é‡ï¼Œè°æ˜¯æŒ‡å‘çš„å€¼ï¼Ÿ

åœ¨æ•™ç¨‹ç¤ºä¾‹å’Œ `main.cpp` ä¸­ç”¨çš„æ˜¯è¿™ä¸‰ç§å½¢å¼ï¼š

```cpp
// 1. æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼ˆpointer to constï¼‰
const int* a1 = new int;    // ä¸èƒ½é€šè¿‡ a1 ä¿®æ”¹æŒ‡å‘çš„å€¼ï¼Œä½†å¯ä»¥æ”¹å˜ a1 æŒ‡å‘å“ªå„¿

// 2. æŒ‡é’ˆå¸¸é‡ï¼ˆconst pointerï¼‰
int* const a2 = new int;    // å¯ä»¥é€šè¿‡ *a2 ä¿®æ”¹æŒ‡å‘çš„å€¼ï¼Œä½† a2 æœ¬èº«ä¸èƒ½æŒ‡å‘åˆ«å¤„

// 3. æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆå¸¸é‡ï¼ˆconst pointer to constï¼‰
const int* const a3 = new int; // æ—¢ä¸èƒ½æ”¹æŒ‡é’ˆæŒ‡å‘ï¼Œä¹Ÿä¸èƒ½é€šè¿‡å®ƒæ”¹æŒ‡å‘çš„å€¼
```

ç®€å•è®°å¿†ï¼š

> [!TIP]
> **çœ‹ const é è¿‘è°**
>
> * `const int*`ï¼š`int` å‰é¢æœ‰ `const`ï¼Œè¡¨ç¤ºâ€œæŒ‡å‘ **const int** çš„æŒ‡é’ˆâ€ï¼Œä¹Ÿå«â€œæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ (pointer to const)â€ï¼Œä¸èƒ½æ”¹å€¼ï¼›
> * `int* const`ï¼š`const` ç´§æŒ¨ç€ `*`ï¼Œè¡¨ç¤ºâ€œ**æŒ‡é’ˆæœ¬èº«æ˜¯ const**â€ï¼Œä¹Ÿå«â€œæŒ‡é’ˆå¸¸é‡ (const pointer)â€ï¼Œä¸èƒ½æ”¹æŒ‡é’ˆæŒ‡å‘ï¼›
> * `const int* const`ï¼šä¸¤è€…éƒ½ constï¼ŒæŒ‡å‘å’ŒæŒ‡å‘çš„å€¼éƒ½ä¸èƒ½æ”¹ã€‚

åœ¨ä½ çš„ `main.cpp` ä¸­ï¼š

```cpp
const int MAX_AGE = 90;

// æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆå¸¸é‡ï¼ˆconst pointer to constï¼‰
const int* const a = new int;

// *a = 25;            // âŒ ä¸¥æ ¼æ¥è¯´ä¸åˆæ³•ï¼ša æŒ‡å‘ const intï¼Œä¸åº”è¯¥é€šè¿‡ a ä¿®æ”¹å€¼
// a = (int*)&MAX_AGE; // âŒ ä¸åˆæ³•ï¼ša æ˜¯ const æŒ‡é’ˆï¼Œä¸èƒ½æ”¹å˜æŒ‡å‘
```

è¿™æ®µä»£ç åœ¨ä¸¥æ ¼çš„ C++ è¯­ä¹‰ä¸‹æ˜¯æœ‰é—®é¢˜çš„ï¼š

* `const int* const a` è¡¨ç¤ºâ€œä¸èƒ½æ”¹ `*a`ï¼Œä¹Ÿä¸èƒ½æ”¹ `a` æœ¬èº«â€ï¼›
* å¦‚æœç¼–è¯‘å™¨æ²¡æœ‰æŠ¥é”™ï¼Œå¤šåŠæ˜¯å› ä¸ºä¾‹å­è¿˜æ²¡å®Œå…¨å†™å®Œï¼Œæˆ–è€…æ˜¯æ•…æ„ç•™çš„â€œåä¾‹â€ã€‚

å®è·µä¸­ï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„æ›´å®‰å…¨å†™æ³•æ¥è¡¨è¾¾â€œåªè¯»è§†å›¾â€ï¼š

```cpp
int* raw = new int(25);
const int* view = raw;   // pointer to constï¼šä¸èƒ½é€šè¿‡ view æ”¹å€¼ï¼Œä½† raw ä»ç„¶å¯ä»¥æ”¹
```

### 3. const æˆå‘˜å‡½æ•°ï¼šæ‰¿è¯ºâ€œä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€â€

çœ‹ `main.cpp` ä¸­çš„ `Entity`ï¼š

```cpp
class Entity
{
private:
    int* m_X, m_Y;
    mutable int var; // mutableï¼ˆMutable Keywordï¼‰å…è®¸åœ¨ const æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹
public:
    // è¿”å›ä¸€ä¸ªæŒ‡å‘å¸¸é‡çš„å¸¸é‡æŒ‡é’ˆ
    const int* const GetX() const
    {
        // m_X = 5;    // âŒ é”™è¯¯ï¼šä¸èƒ½åœ¨ const æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹é mutable æˆå‘˜
        var = 10;       // âœ… å…è®¸ï¼šmutable æˆå‘˜å¯ä»¥åœ¨ const æˆå‘˜å‡½æ•°ä¸­è¢«ä¿®æ”¹
        return m_X;
    }

    void SetX(int x)
    {
        *m_X = x;
    }
};

void PrintEntity(const Entity& e)
{
    // const Entity& åªèƒ½è°ƒç”¨ const æˆå‘˜å‡½æ•°
    std::cout << *(e.GetX()) << std::endl;
}
```

è¿™é‡Œæœ‰ä¸‰ä¸ªå±‚æ¬¡çš„ `const`ï¼š

1. `const int* const GetX()`ï¼šè¯´æ˜è¿”å›å€¼ç±»å‹æ˜¯â€œæŒ‡å‘ const int çš„ const æŒ‡é’ˆâ€ï¼Œè°ƒç”¨è€…ä¸èƒ½é€šè¿‡è¿”å›å€¼æ”¹æŒ‡å‘æˆ–æ”¹å€¼ï¼›
2. å‡½æ•°æœ«å°¾çš„ `... GetX() const`ï¼šè¿™æ˜¯ **å¸¸é‡æˆå‘˜å‡½æ•° (const member function)**ï¼Œè¡¨ç¤ºï¼š
   * åœ¨å‡½æ•°ä½“å†…ä¸èƒ½ä¿®æ”¹é `mutable` æˆå‘˜ï¼›
   * åªèƒ½è°ƒç”¨åŒæ ·æ˜¯ `const` çš„å…¶ä»–æˆå‘˜å‡½æ•°ï¼›
3. å½¢å‚ `const Entity& e`ï¼šå¸¸é‡å¼•ç”¨ï¼ˆconst referenceï¼‰ï¼Œè¡¨ç¤º `PrintEntity` ä¸ä¼šï¼ˆä¹Ÿä¸èƒ½ï¼‰ä¿®æ”¹ä¼ è¿›æ¥çš„ `Entity` å¯¹è±¡ã€‚

> [!IMPORTANT]
> **ä¸ºä»€ä¹ˆè¦ç”¨ const æˆå‘˜å‡½æ•°ï¼Ÿ**
>
> * ä»è¯­ä¹‰ä¸ŠåŒºåˆ†â€œåªè¯»æ“ä½œâ€å’Œâ€œä¿®æ”¹æ“ä½œâ€ï¼Œè¯»ä»£ç çš„äººä¸€çœ¼å°±èƒ½çœ‹å‡ºå“ªäº›å‡½æ•°æ˜¯å®‰å…¨çš„â€œè§‚å¯Ÿè€… (observer)â€ï¼›
> * å…è®¸ä½ æŠŠå¯¹è±¡ä»¥ `const Entity&` çš„å½¢å¼ä¼ ç»™å‡½æ•°æˆ–å­˜å…¥åªè¯»å®¹å™¨é‡Œï¼ŒåŒæ—¶ä»ç„¶å¯ä»¥è°ƒç”¨è¿™äº›â€œåªè¯»æ¥å£â€ï¼›
> * ç¼–è¯‘å™¨ä¼šå¸®ä½ æ£€æŸ¥ï¼šä½ æ‰¿è¯º `const` çš„å‡½æ•°é‡Œï¼ŒçœŸçš„æ²¡æœ‰å»æ”¹æˆå‘˜ï¼ˆé™¤äº†æ ‡è®°ä¸º `mutable` çš„ï¼‰ã€‚

### 4. mutableï¼šåœ¨ const æˆå‘˜å‡½æ•°é‡Œä»ç„¶å¯å˜

å…³é”®å­— `mutable`ï¼ˆMutable Keywordï¼‰ç”¨åœ¨æˆå‘˜å˜é‡ä¸Šï¼Œè¡¨ç¤ºâ€œå³ä½¿å¯¹è±¡æ˜¯ `const` çš„ã€æˆ–è€…åœ¨ `const` æˆå‘˜å‡½æ•°ä¸­ï¼Œè¿™ä¸ªæˆå‘˜ä»ç„¶å…è®¸è¢«ä¿®æ”¹â€ï¼Œå…¸å‹ç”¨æ³•æœ‰ï¼š

* ç¼“å­˜å­—æ®µï¼ˆæ¯”å¦‚ç¼“å­˜ä¸Šä¸€æ¬¡è®¡ç®—ç»“æœï¼‰ï¼›
* è°ƒè¯•è®¡æ•°å™¨ã€æ—¥å¿—æ¬¡æ•°ç­‰â€œä¸å½±å“å¯¹è±¡é€»è¾‘çŠ¶æ€â€çš„ç»Ÿè®¡ä¿¡æ¯ã€‚

åœ¨ä¸Šé¢çš„ `Entity` ä¸­ï¼š

```cpp
mutable int var;   // è¿™ä¸ªæˆå‘˜å³ä½¿åœ¨ const å‡½æ•°ä¸­ä¹Ÿå¯ä»¥æ”¹

const int* const GetX() const
{
    // m_X = 5;    // âŒ ä¸å…è®¸ï¼šm_X ä¸æ˜¯ mutable
    var = 10;       // âœ… å…è®¸ï¼švar æ˜¯ mutable
    return m_X;
}
```

> [!NOTE]
> **mutable çš„ä½¿ç”¨å»ºè®®**
>
> * `mutable`ï¼ˆMutable Keywordï¼‰æ˜¯ä¸ºäº†é‚£äº›â€œä¸æ”¹å˜å¯¹è±¡é€»è¾‘çŠ¶æ€ï¼Œä½†éœ€è¦åœ¨ const ä¸Šåšç‚¹äº‹â€çš„åœºæ™¯å‡†å¤‡çš„ï¼›
> * ä¸è¦æ»¥ç”¨ï¼šå¦‚æœç»å¸¸éœ€è¦åœ¨ const ä¸Šâ€œå·å·ä¿®æ”¹çŠ¶æ€â€ï¼Œé€šå¸¸è¯´æ˜æ¥å£è®¾è®¡å¯ä»¥å†æƒ³æƒ³ï¼ˆä¾‹å¦‚æŠŠé‚£äº›çŠ¶æ€æŠ½å‡ºå»ï¼‰ã€‚

---

### å°ç»“ï¼šç”¨ const è¡¨è¾¾â€œæ‰¿è¯ºâ€å’Œâ€œçº¦æŸâ€

> [!IMPORTANT]
> ä»é£æ ¼å’Œè®¾è®¡è§’åº¦çœ‹ï¼Œå¯ä»¥æŠŠ `const` ç†è§£ä¸ºä¸€ç§â€œå†™åœ¨ç±»å‹ç³»ç»Ÿé‡Œçš„æ‰¿è¯ºâ€ï¼š
>
> * `const int` / `const Foo`ï¼šæ‰¿è¯ºâ€œä¸ä¼šé€šè¿‡è¿™ä¸ªåå­—å»æ”¹è¿™å—æ•°æ®â€ï¼›
> * `const int*` / `Foo* const` / `const int* const`ï¼šè¿›ä¸€æ­¥æ§åˆ¶â€œæ˜¯ä¸èƒ½æ”¹æŒ‡å‘ï¼Ÿè¿˜æ˜¯ä¸èƒ½æ”¹å€¼ï¼Ÿè¿˜æ˜¯éƒ½ä¸èƒ½æ”¹â€ï¼›
> * `const T&`ï¼šå‘Šè¯‰è°ƒç”¨è€…â€œè¿™ä¸ªå‡½æ•°åªè¯»ä¸æ”¹ï¼Œå¯ä»¥æ”¾å¿ƒæŠŠè‡ªå·±çš„å¯¹è±¡å€Ÿç»™æˆ‘â€ï¼›
> * `ReturnType GetXXX() const`ï¼šå£°æ˜â€œè¿™æ˜¯ä¸€ä¸ªåªè¯»æ¥å£â€ï¼Œæ—¢æ–¹ä¾¿ `const` å¯¹è±¡ä½¿ç”¨ï¼Œä¹Ÿæ–¹ä¾¿ç¼–è¯‘å™¨å¸®ä½ æ£€æŸ¥è¯¯ä¿®æ”¹ï¼›
> * `mutable`ï¼ˆMutable Keywordï¼‰ï¼šåœ¨æå°‘æ•°éœ€è¦æ—¶ï¼Œå…è®¸ä½ åœ¨ `const` ç¯å¢ƒé‡Œä¿®æ”¹ä¸€äº›â€œä¸ç®—çœŸæ­£çŠ¶æ€â€çš„æˆå‘˜ã€‚

æŒæ¡è¿™äº›æ¨¡å¼ä¹‹åï¼Œ`const` ä¸å†åªæ˜¯â€œä¸èƒ½æ”¹çš„ä¸œè¥¿â€ï¼Œè€Œæ˜¯ä¸€ä¸ªå¸®åŠ©ä½ **åŒºåˆ†è¯»å†™ã€è¡¨è¾¾è®¾è®¡æ„å›¾ã€æå‡å®‰å…¨æ€§**çš„å°å·¥å…·ã€‚

---

## ç±»ä½œç”¨åŸŸä¸æšä¸¾è®¿é—® (Log::LogLevelWarning)

åœ¨å­¦ä¹  `Log` æ—¥å¿—ç±»æ—¶ï¼Œæœ‰ä¸€ä¸ªå®¹æ˜“æ··æ·†çš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆåœ¨ `main.cpp` ä¸­è¦å†™ `Log::LogLevelWarning`ï¼Œè€Œä¸èƒ½å†™æˆ `log.LogLevelWarning`ï¼Ÿ

### æ€è€ƒè¿‡ç¨‹å°ç»“ï¼šæšä¸¾ä¸ç±»ä½œç”¨åŸŸ

```cpp
class Log {
public:
    enum LogLevel {
        LogLevelInfo,
        LogLevelWarning,
        LogLevelError
    };

    void SetLevel(LogLevel level);
};

int main() {
    Log log;
    log.SetLevel(Log::LogLevelWarning); // âœ… æ­£ç¡®ç”¨æ³•
    // log.LogLevelWarning;             // âŒ C++ ä¸æ”¯æŒè¿™ç§å†™æ³•
}
```

* `LogLevel` æ˜¯å®šä¹‰åœ¨ `class Log` å†…éƒ¨çš„**æšä¸¾ç±»å‹**ï¼Œ`LogLevelWarning` æ˜¯è¿™ä¸ªæšä¸¾é‡Œçš„**æšä¸¾å€¼**ã€‚
* å®ƒä»¬å±äº **ç±»çš„ä½œç”¨åŸŸ**ï¼Œè€Œä¸æ˜¯æŸä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡ï¼Œæ‰€ä»¥åœ¨ç±»å¤–è®¿é—®æ—¶éœ€è¦å†™æˆ `Log::LogLevel`ã€`Log::LogLevelWarning`ã€‚
* å¯¹è±¡ `log` ä¸Šåªæœ‰å…·ä½“è¿™ä¸€ä¸ªå¯¹è±¡çš„**æˆå‘˜å˜é‡å€¼å’Œæˆå‘˜å‡½æ•°**ï¼Œä¾‹å¦‚ `log.SetLevel(...)`ï¼Œå¹¶ä¸ä¼šâ€œæŒ‚ç€â€ä¸€ä¸ªå« `LogLevelWarning` çš„å­—æ®µï¼Œæ‰€ä»¥ `log.LogLevelWarning` æ˜¯ä¸åˆæ³•çš„ã€‚

å¯ä»¥ç±»æ¯”ï¼š

* `std::cout` ä¸­çš„ `std::` æ˜¯å‘½åç©ºé—´ä½œç”¨åŸŸï¼›
* `Log::LogLevelWarning` ä¸­çš„ `Log::` æ˜¯ç±»ä½œç”¨åŸŸï¼›
* è€Œ `log` åªæ˜¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œç”¨æ¥è°ƒç”¨æˆå‘˜å‡½æ•°ï¼ˆ`log.SetLevel(...)`ï¼‰ï¼Œè€Œä¸æ˜¯ç”¨æ¥è®¿é—®æšä¸¾å®šä¹‰ã€‚

---

## é™æ€æˆå‘˜ä¸å¯¹è±¡å®ä¾‹ (Static Members)

è¿™ä¸€éƒ¨åˆ†ç»“åˆ Cherno çš„å‡ é›†è®²è§£å’Œè‡ªå·±çš„ä»£ç å®è·µï¼Œæ€»ç»“ C++ ä¸­ `static` çš„å‡ ä¸ªæ ¸å¿ƒåœºæ™¯ï¼š

1. **ç±»çš„é™æ€æˆå‘˜å˜é‡ / é™æ€æˆå‘˜å‡½æ•°**ï¼šå±äºâ€œç±»æœ¬èº«â€ï¼Œè€Œä¸æ˜¯æŸä¸ªå…·ä½“å¯¹è±¡ã€‚
2. **é™æ€æˆå‘˜ vs æ™®é€šæˆå‘˜**ï¼šæ˜¯å¦æ¯ä¸ªå¯¹è±¡ä¸€ä»½ï¼Œè¿˜æ˜¯æ‰€æœ‰å¯¹è±¡å…±äº«ä¸€ä»½ã€‚
3. **å…¨å±€å˜é‡ vs static æˆå‘˜**ï¼šä¸ºä»€ä¹ˆæ›´æ¨èæŠŠâ€œå…¨å±€çŠ¶æ€â€æ”¾åˆ°ç±»ä¸­ã€‚

### 1. ç±»çš„é™æ€æˆå‘˜å˜é‡ä¸é“¾æ¥é”™è¯¯

```cpp
class Entity
{
public:
    static int x, y;      // é™æ€æˆå‘˜å˜é‡ï¼šå±äºç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯æŸä¸ªå¯¹è±¡

    static void Print()   // é™æ€æˆå‘˜å‡½æ•°ï¼šä¸éœ€è¦ this æŒ‡é’ˆ
    {
        std::cout << x << ", " << y << std::endl;
    }
};

// ç±»å¤–å¿…é¡»æä¾›ä¸€æ¬¡â€œå®šä¹‰â€ï¼Œå¦åˆ™ä¼šé“¾æ¥é”™è¯¯ï¼ˆundefined referenceï¼‰
int Entity::x;
int Entity::y;

int main()
{
    Entity e;
    Entity::x = 5;
    Entity::y = 8;
    Entity::Print(); // è¾“å‡º 5, 8

    Entity e1;
    Entity::x = 10;
    Entity::y = 20;
    Entity::Print(); // è¾“å‡º 10, 20ï¼ˆe å’Œ e1 çœ‹åˆ°çš„æ˜¯åŒä¸€ä»½ x, yï¼‰
}
```

> [!IMPORTANT]
> **å£°æ˜ vs å®šä¹‰**
>
> * ç±»å†…çš„ `static int x, y;` åªæ˜¯**å£°æ˜**ï¼Œä¸ä¼šåˆ†é…å†…å­˜ã€‚
> * å¿…é¡»åœ¨ç±»å¤–å†™ä¸€æ¬¡ `int Entity::x; int Entity::y;` ä½œä¸º**å®šä¹‰**ï¼Œä¸ºé™æ€æˆå‘˜åˆ†é…å­˜å‚¨ç©ºé—´ã€‚

### 2. static æˆå‘˜å˜é‡ vs æ™®é€šæˆå‘˜å˜é‡

```cpp
// æ¯ä¸ªå¯¹è±¡ä¸€ä»½ï¼ˆé staticï¼‰
class EntityInstance {
public:
    int x, y;

    void Print() {
        std::cout << x << ", " << y << std::endl;
    }
};

// å…¨éƒ¨å¯¹è±¡å…±äº«ä¸€ä»½ï¼ˆstaticï¼‰
class EntityShared {
public:
    static int x, y;

    static void Print() {
        std::cout << x << ", " << y << std::endl;
    }
};

int EntityShared::x;
int EntityShared::y;

int main() {
    EntityInstance a;
    a.x = 1; a.y = 2;

    EntityInstance b;
    b.x = 3; b.y = 4;

    a.Print(); // 1, 2
    b.Print(); // 3, 4  -> å„è‡ªç‹¬ç«‹

    EntityShared::x = 5;
    EntityShared::y = 6;
    EntityShared::Print(); // 5, 6

    EntityShared::x = 7;
    EntityShared::y = 8;
    EntityShared::Print(); // 7, 8  -> æ‰€æœ‰â€œå®ä½“â€çœ‹åˆ°çš„éƒ½æ˜¯åŒä¸€ä»½å€¼
}
```

> [!IMPORTANT]
> **å¯¹è±¡ vs ç±»æœ¬èº«**
>
> * æ™®é€šæˆå‘˜å˜é‡ï¼šæ¯ä¸ªå¯¹è±¡ä¸€ä»½ï¼Œ`a.x` å’Œ `b.x` æ˜¯ä¸¤å—ä¸åŒçš„å†…å­˜ã€‚
> * é™æ€æˆå‘˜å˜é‡ï¼šç±»å…±äº«ä¸€ä»½ï¼Œé€šè¿‡ `EntityShared::x` è®¿é—®ï¼Œæ‰€æœ‰å¯¹è±¡çœ‹åˆ°çš„æ˜¯åŒä¸€å—å†…å­˜ã€‚

### 3. static æˆå‘˜å‡½æ•° ä¸ æ™®é€šæˆå‘˜å‡½æ•°

```cpp
class Example {
public:
    int value = 0;          // æ™®é€šæˆå‘˜å˜é‡
    static int s_Value;     // é™æ€æˆå‘˜å˜é‡

    void NormalMethod() {
        // å¯ä»¥è®¿é—® this ä¸Šçš„ä¸€åˆ‡
        value = 10;
        s_Value = 20;
    }

    static void StaticMethod() {
        // æ²¡æœ‰ this æŒ‡é’ˆï¼Œåªèƒ½è®¿é—®é™æ€æˆå‘˜
        // value = 10;      // âŒ ç¼–è¯‘é”™è¯¯ï¼šä¸èƒ½åœ¨ static é‡Œè®¿é—®é static æˆå‘˜
        s_Value = 20;       // âœ… OK
    }
};

int Example::s_Value = 0;
```

> [!TIP]
> **æ­é…ä½¿ç”¨çš„è§„åˆ™**
>
> * æƒ³è®¿é—®å¯¹è±¡è‡ªå·±çš„çŠ¶æ€ï¼šç”¨ã€Œé static æˆå‘˜å˜é‡ + é static æˆå‘˜å‡½æ•°ã€ã€‚
> * æƒ³åšâ€œå…¨ç±»å…±äº«çš„çŠ¶æ€ / å·¥å…·å‡½æ•°â€ï¼šç”¨ã€Œstatic æˆå‘˜å˜é‡ + static æˆå‘˜å‡½æ•°ã€ã€‚

### 4. å…¨å±€å˜é‡ vs static æˆå‘˜ï¼šä¸ºä»€ä¹ˆæ›´æ¨è static

```cpp
// å…¨å±€å˜é‡å†™æ³•ï¼ˆä¸æ¨èï¼‰
int g_LogLevel = 0;

void Log(const char* message) {
    if (g_LogLevel > 0)
        std::cout << message << std::endl;
}

// ä½¿ç”¨ static æˆå‘˜çš„å†™æ³•ï¼ˆæ›´æ¸…æ™°ï¼‰
class Logger {
public:
    static int s_LogLevel;

    static void Log(const char* message) {
        if (s_LogLevel > 0)
            std::cout << message << std::endl;
    }
};

int Logger::s_LogLevel = 0;
```

> [!NOTE]
> **ä¸ºä»€ä¹ˆä¸ç”¨è£¸çš„å…¨å±€å˜é‡**
>
> * å…¨å±€å˜é‡ä»»ä½•åœ°æ–¹éƒ½èƒ½æ”¹ï¼Œä½œç”¨åŸŸå¤ªå¤§ï¼Œä¸åˆ©äºç»´æŠ¤ã€‚
> * static æˆå‘˜å˜é‡æŒ‚åœ¨ç±»åä¸‹ï¼ˆä¾‹å¦‚ `Logger::s_LogLevel`ï¼‰ï¼Œè¡¨è¾¾äº†â€œè¿™ä¸ªçŠ¶æ€å±äº Loggerâ€ï¼Œæ›´ç¬¦åˆé¢å‘å¯¹è±¡çš„è®¾è®¡ã€‚

### 5. å°ç»“ï¼šä»€ä¹ˆæ—¶å€™ç”¨ staticï¼Ÿ

> [!NOTE]
> **static ä½¿ç”¨åœºæ™¯å°æŠ„**
>
> * æƒ³è®©â€œæ‰€æœ‰å¯¹è±¡å…±äº«æŸä¸ªçŠ¶æ€â€ï¼ˆä¾‹å¦‚ï¼šè®¡æ•°å™¨ã€å…¨å±€é…ç½®ï¼‰ï¼šç”¨ `static` æˆå‘˜å˜é‡ã€‚
> * æƒ³å†™ä¸€ä¸ªä¸ä¾èµ–å…·ä½“å¯¹è±¡çš„å·¥å…·å‡½æ•°ï¼Œä½†å’Œè¿™ä¸ªç±»é€»è¾‘ç›¸å…³ï¼šç”¨ `static` æˆå‘˜å‡½æ•°ã€‚
> * æƒ³è¦â€œæ¯ä¸ªå¯¹è±¡æœ‰è‡ªå·±çš„é‚£ä¸€ä»½â€ï¼šä¸è¦ç”¨ `static`ï¼Œç”¨æ™®é€šæˆå‘˜å˜é‡ + æ™®é€šæˆå‘˜å‡½æ•°ã€‚
> * é¿å…éšæ‰‹ä¸¢ä¸€ä¸ªçœŸæ­£çš„å…¨å±€å˜é‡ï¼Œä¼˜å…ˆè€ƒè™‘æ”¾åˆ°ç±»çš„ `static` æˆå‘˜é‡Œï¼Œè®©çŠ¶æ€æœ‰ä¸€ä¸ªæ¸…æ™°çš„â€œå½’å±â€ã€‚

---

## æ„é€ å‡½æ•°ä¸ææ„å‡½æ•° (Constructors & Destructors)

åœ¨ C++ ä¸­ï¼Œæ„é€ å‡½æ•°å’Œææ„å‡½æ•°æ˜¯ä¸€å¯¹â€œå¯¹è±¡ç”Ÿå‘½å‘¨æœŸé’©å­â€ï¼š

* **æ„é€ å‡½æ•° (Constructor)**ï¼šå¯¹è±¡è¢«åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨æ¥åˆå§‹åŒ–æˆå‘˜ã€ç”³è¯·èµ„æºã€‚
* **ææ„å‡½æ•° (Destructor)**ï¼šå¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸã€è¢«é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨æ¥æ¸…ç†å’Œé‡Šæ”¾èµ„æºã€‚

### ä»£ç ç¤ºä¾‹ï¼šç»§æ‰¿ä¸å¯¹è±¡å¤§å°

```cpp
class Entity
{
public:
    float X, Y;

    // é»˜è®¤æ„é€ å‡½æ•°ï¼šä¸å¸¦å‚æ•°
    Entity()
    {
        X = 0.0f;
        Y = 0.0f;
        std::cout << "Create Entity" << std::endl;
    }

    // å¸¦å‚æ•°æ„é€ å‡½æ•°ï¼šæ„é€ æ—¶ä¼ å…¥åˆå§‹å€¼
    Entity(float x, float y)
    {
        X = x;
        Y = y;
    }

    // ææ„å‡½æ•°ï¼šå¯¹è±¡ç¦»å¼€ä½œç”¨åŸŸ/è¢«é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨
    ~Entity()
    {
        std::cout << "Destroy Entity" << std::endl;
    }

    void Print()
    {
        std::cout << "X: " << X << ", Y: " << Y << std::endl;
    }
};

void Function()
{
    Entity e;   // è¿™é‡Œè°ƒç”¨ Entity() æ„é€ å‡½æ•°
    e.Print();
}              // å‡½æ•°ç»“æŸï¼Œe ç¦»å¼€ä½œç”¨åŸŸï¼Œè°ƒç”¨ ~Entity() ææ„å‡½æ•°

int main()
{
    // Entity e;            // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼ŒX/Y è¢«åˆå§‹åŒ–ä¸º 0
    // e.Print();

    // Entity e2(5.0f, 10.0f); // è°ƒç”¨å¸¦å‚æ•°æ„é€ å‡½æ•°
    // e2.Print();             // æ‰“å°åˆå§‹åŒ–åçš„å€¼

    Function();
    return 0;
}
```

### æ ¸å¿ƒè¦ç‚¹

> [!IMPORTANT]
> **æ„é€ å‡½æ•°**
>
> * åå­—ä¸ç±»åç›¸åŒï¼Œæ²¡æœ‰è¿”å›ç±»å‹ï¼ˆè¿ `void` éƒ½ä¸èƒ½å†™ï¼‰ã€‚
> * åœ¨å¯¹è±¡åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œåªä¼šåœ¨â€œå¼€å§‹ç”Ÿå‘½å‘¨æœŸâ€æ—¶è°ƒç”¨ä¸€æ¬¡ã€‚
> * å¸¸ç”¨äºï¼šåˆå§‹åŒ–æˆå‘˜å˜é‡ã€ç”³è¯·èµ„æºï¼ˆå†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰ã€‚
> * å¯ä»¥é‡è½½å¤šä¸ªæ„é€ å‡½æ•°ï¼Œæ ¹æ®å‚æ•°ä¸åŒé€‰æ‹©ä¸åŒçš„æ„é€ æ–¹å¼ã€‚

> [!IMPORTANT]
> **ææ„å‡½æ•°**
>
> * åå­—ä¸º `~ClassName()`ï¼ŒåŒæ ·æ²¡æœ‰è¿”å›ç±»å‹ã€æ²¡æœ‰å‚æ•°ã€‚
> * åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ï¼š
>   * æ ˆå¯¹è±¡ç¦»å¼€ä½œç”¨åŸŸï¼ˆå¦‚å‡½æ•°ç»“æŸï¼‰ã€‚
>   * `delete` å †å¯¹è±¡ã€‚
> * å¸¸ç”¨äºï¼šæˆå¯¹åœ°é‡Šæ”¾æ„é€ å‡½æ•°ä¸­ç”³è¯·çš„èµ„æºï¼ˆRAII æ€æƒ³ï¼šèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰ã€‚
> * ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªææ„å‡½æ•°ï¼Œä¸èƒ½é‡è½½ã€‚

> [!TIP]
> **å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«**
>
> * æ„é€ /ææ„å‡½æ•°ç”±ç¼–è¯‘å™¨åœ¨æ°å½“çš„æ—¶æœºè‡ªåŠ¨è°ƒç”¨ï¼Œä¸éœ€è¦ï¼ˆä¹Ÿä¸èƒ½ï¼‰æ‰‹åŠ¨åƒæ™®é€šå‡½æ•°é‚£æ ·éšä¾¿è°ƒç”¨ã€‚
> * æ™®é€šæˆå‘˜å‡½æ•°å¯ä»¥éšæ—¶è¢«è°ƒç”¨å¤šæ¬¡ï¼Œè€Œæ„é€ å‡½æ•°åªåœ¨â€œåˆ›å»ºæ—¶â€è°ƒç”¨ä¸€æ¬¡ï¼Œææ„å‡½æ•°åªåœ¨â€œé”€æ¯æ—¶â€è°ƒç”¨ä¸€æ¬¡ã€‚

---

## æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ (Member Initializer List)

è¿™ä¸€éƒ¨åˆ†ç»“åˆæ•™ç¨‹ç¬¬ 36p å’Œ `main.cpp` çš„ç¤ºä¾‹ï¼Œæ€»ç»“ C++ ä¸­**æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨**ï¼ˆMember Initializer Listï¼‰çš„ç”¨æ³•ä¸å¥½å¤„ï¼š

1. é¿å…â€œå…ˆé»˜è®¤æ„é€ ï¼Œå†èµ‹å€¼â€çš„**åŒé‡æ„é€ **ï¼›
2. æŸäº›æˆå‘˜ **å¿…é¡»** åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œåˆå§‹åŒ–ï¼ˆå¦‚å¼•ç”¨ã€`const` æˆå‘˜ï¼‰ï¼›
3. åˆå§‹åŒ–é¡ºåºå¹¶ä¸æ˜¯â€œä½ å†™çš„é¡ºåºâ€ï¼Œè€Œæ˜¯æŒ‰**æˆå‘˜å£°æ˜é¡ºåº**è¿›è¡Œã€‚

### 1. å…ˆçœ‹ä¸€ä¸ªâ€œæ„é€ ä¸¤æ¬¡â€çš„ä¾‹å­

ä½ çš„ `main.cpp` ä¸­æœ‰è¿™æ ·ä¸€ä¸ªç±»ï¼š

```cpp
// Example ç±»ç”¨äºæ¼”ç¤ºæˆå‘˜å˜é‡çš„åˆå§‹åŒ–é¡ºåº
class Example
{
public:
    Example()
    {
        std::cout << "Created Example" << std::endl;
    }

    Example(int x)
    {
        std::cout << "Created Example with value: " << x << std::endl;
    }
};

class Entity
{
private:
    std::string m_Name;  // ç¬¬ä¸€æ¬¡ï¼šç”¨ std::string çš„é»˜è®¤æ„é€ 
    int m_Age;
    Example m_Example;   // ç¬¬ä¸€æ¬¡ï¼šè°ƒç”¨ Example()ï¼Œæ‰“å° "Created Example"

public:
    Entity()
        : m_Name("Unknown"), m_Age(0), m_Example(10) // åˆå§‹åŒ–åˆ—è¡¨
    {
        // m_Name = "Unknown";               // âš ï¸ è¿™é‡Œå†èµ‹å€¼ä¼šè§¦å‘ç¬¬äºŒæ¬¡æ“ä½œ
        m_Example = Example(10);             // ç¬¬äºŒæ¬¡ï¼šå…ˆé»˜è®¤æ„é€ ï¼Œå†æ‹·è´èµ‹å€¼
    }
};
```

å…³é”®ç‚¹ï¼š

* æˆå‘˜å¯¹è±¡åœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“ **ä¹‹å‰** å°±å·²ç»è¢«æ„é€ å¥½äº†ï¼š
  * `m_Name` å…ˆé€šè¿‡é»˜è®¤æ„é€ æ„é€ ä¸€æ¬¡ï¼›
  * `m_Example` å…ˆè°ƒç”¨ `Example()` æ‰“å°ä¸€æ¬¡ï¼›
* åœ¨æ„é€ å‡½æ•°ä½“å†…å†å†™ `m_Name = "Unknown";` æˆ– `m_Example = Example(10);`ï¼Œåªæ˜¯å¯¹å·²ç»æ„é€ å¥½çš„å¯¹è±¡åšä¸€æ¬¡**èµ‹å€¼**ï¼Œç­‰äºâ€œå¤šåšäº†ä¸€éå·¥ä½œâ€ã€‚

> [!IMPORTANT]
> **ä¸ºä»€ä¹ˆè¦ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ï¼Ÿ**
>
> * å¯¹äºç±»ç±»å‹æˆå‘˜ï¼ˆæ¯”å¦‚ `std::string`ã€`Example`ï¼‰ï¼Œ
>   * åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­å†™ `m_Example(10)`ï¼š**ç›´æ¥è°ƒç”¨å¸¦å‚æ„é€ å‡½æ•°ï¼Œä¸€æ¬¡åˆ°ä½**ï¼›
>   * åœ¨æ„é€ å‡½æ•°ä½“å†…å†å†™ `m_Example = Example(10);`ï¼š
>     1. å…ˆé»˜è®¤æ„é€ ä¸€æ¬¡ï¼ˆæ— å‚æ„é€ ï¼‰ï¼›
>     2. å†ç”¨èµ‹å€¼è¿ç®—æŠŠæ–°å€¼æ‹·è¿‡å»ï¼›
>   * è¿™å°±äº§ç”Ÿäº†ä¸å¿…è¦çš„é¢å¤–æ„é€ /æ‹·è´ï¼Œæ•ˆç‡æ›´å·®ã€‚

### 2. æ­£ç¡®ç”¨æ³•ï¼šåœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­å®Œæˆåˆå§‹åŒ–

æŠŠä¸Šé¢çš„ `Entity` ç¨å¾®æ”¹ä¸€ä¸‹ï¼Œå°±å¯ä»¥åªæ„é€ ä¸€æ¬¡ï¼š

```cpp
class Entity
{
private:
    std::string m_Name;
    int m_Age;
    Example m_Example;

public:
    Entity()
        : m_Name("Unknown"),   // ç›´æ¥è°ƒç”¨ std::string(const char*) æ„é€ 
          m_Age(0),             // å†…ç½®ç±»å‹ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œåˆå§‹åŒ–
          m_Example(10)         // ç›´æ¥è°ƒç”¨ Example(int) æ„é€ ï¼Œåªæ„é€ ä¸€æ¬¡
    {
        // æ„é€ å‡½æ•°ä½“å†…éƒ¨å¯ä»¥åšä¸€äº›é€»è¾‘ï¼Œä½†å°½é‡é¿å…å†ç»™æˆå‘˜â€œé‡æ–°èµ‹åˆå§‹å€¼â€
    }

    Entity(const std::string& name)
        : m_Name(name),         // æ¨èï¼šåœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­å°±è®¾å¥½åå­—
          m_Age(0),
          m_Example(0)
    {
        // m_Name = name;      // ä¸æ¨èï¼šåˆä¸€æ¬¡èµ‹å€¼ï¼Œå¤šä¸€æ¬¡å¼€é”€
    }
};
```

> [!TIP]
> **ä¸€ä¸ªç®€å•ç»éªŒ**
>
> * â€œè°åº”è¯¥åœ¨å¯¹è±¡ä¸€å‡ºç”Ÿå°±æœ‰ç¡®å®šå€¼â€ï¼Œå°±å°½é‡æ”¾åˆ°**åˆå§‹åŒ–åˆ—è¡¨**é‡Œï¼›
> * æ„é€ å‡½æ•°ä½“å†…éƒ¨ï¼Œæ›´é€‚åˆåšæµç¨‹é€»è¾‘ã€æ‰“å°æ—¥å¿—ï¼Œè€Œä¸æ˜¯â€œç»™æ‰€æœ‰æˆå‘˜å†æ¥ä¸€éåˆå§‹èµ‹å€¼â€ã€‚

### 3. æœ‰äº›ä¸œè¥¿åªèƒ½åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œåˆå§‹åŒ–

æœ‰å‡ ç±»æˆå‘˜æ˜¯**ä¸èƒ½é èµ‹å€¼å®Œæˆåˆå§‹åŒ–**çš„ï¼Œå®ƒä»¬ **å¿…é¡»** å†™åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨é‡Œï¼š

1. **å¼•ç”¨æˆå‘˜**ï¼ˆreferenceï¼‰ï¼šå¼•ç”¨ä¸€æ—¦ç»‘å®šå°±ä¸èƒ½å†æŒ‡å‘åˆ«çš„å¯¹è±¡ï¼›
2. **`const` æˆå‘˜**ï¼š`const` ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½å†èµ‹å€¼ï¼›
3. æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°çš„æˆå‘˜å¯¹è±¡ï¼šå¿…é¡»æ˜¾å¼è°ƒç”¨æŸä¸ªæ„é€ å‡½æ•°ã€‚

ç¤ºä¾‹ï¼š

```cpp
class Person
{
private:
    const int m_Id;          // const æˆå‘˜
    std::string& m_Alias;    // å¼•ç”¨æˆå‘˜

public:
    Person(int id, std::string& alias)
        : m_Id(id),          // âœ… å¿…é¡»åœ¨è¿™é‡Œåˆå§‹åŒ–
          m_Alias(alias)     // âœ… å¼•ç”¨ä¹Ÿå¿…é¡»åœ¨è¿™é‡Œç»‘å®š
    {
        // m_Id = 10;        // âŒ é”™è¯¯ï¼šconst æˆå‘˜ä¸èƒ½åœ¨å‡½æ•°ä½“é‡Œé‡æ–°èµ‹å€¼
        // m_Alias = alias;  // âŒ è¿™é‡Œæ˜¯ç»™å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡èµ‹å€¼ï¼Œä¸æ˜¯â€œé‡æ–°ç»‘å®šâ€
    }
};
```

å¦‚æœä¸åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­ç»™å®ƒä»¬èµ‹å€¼ï¼Œç¼–è¯‘å™¨å°±ä¼šç›´æ¥æŠ¥é”™ï¼Œæç¤ºä½ â€œæ²¡æœ‰åˆé€‚çš„é»˜è®¤æ„é€ å‡½æ•°â€æˆ–â€œæœªåˆå§‹åŒ–çš„ const æˆå‘˜â€ç­‰é—®é¢˜ã€‚

### 4. åˆå§‹åŒ–é¡ºåºï¼šçœ‹å£°æ˜é¡ºåºï¼Œä¸çœ‹ä½ å†™çš„é¡ºåº

ä¸€ä¸ªéå¸¸å®¹æ˜“è¸©å‘çš„ç‚¹ï¼š**æˆå‘˜çš„çœŸæ­£åˆå§‹åŒ–é¡ºåºï¼Œä¸åˆå§‹åŒ–åˆ—è¡¨ä¸­å†™çš„æ’åˆ—é¡ºåºæ— å…³ï¼Œå–å†³äºæˆå‘˜åœ¨ç±»ä¸­å£°æ˜çš„å…ˆåé¡ºåºã€‚**

```cpp
class Foo
{
private:
    Example m_First;
    Example m_Second;

public:
    Foo()
        : m_Second(2),  // è™½ç„¶è¿™é‡Œå†™åœ¨å‰é¢
          m_First(1)    // ä½†å®é™…åˆå§‹åŒ–é¡ºåºä»ç„¶æ˜¯ï¼šå…ˆ m_Firstï¼Œå† m_Second
    {
    }
};
```

ç¼–è¯‘å™¨ä¼šæŒ‰ç…§ï¼š

1. `m_First`ï¼›
2. `m_Second`ï¼›

è¿™ä¸ªå£°æ˜é¡ºåºè¿›è¡Œåˆå§‹åŒ–ã€‚ä¸Šé¢è¿™ä¸ªå†™æ³•è™½ç„¶èƒ½ç¼–è¯‘ï¼Œä½†å¯èƒ½ä¼šæ”¶åˆ°ç¼–è¯‘å™¨è­¦å‘Šï¼ˆwarningï¼‰ï¼Œæé†’ä½ â€œåˆå§‹åŒ–é¡ºåºä¸å£°æ˜é¡ºåºä¸ä¸€è‡´â€ã€‚

> [!IMPORTANT]
> **æ¨èå†™æ³•**
>
> * å°½é‡è®©**åˆå§‹åŒ–åˆ—è¡¨é‡Œçš„é¡ºåºå’Œæˆå‘˜å£°æ˜é¡ºåºä¸€è‡´**ï¼š
>
>   ```cpp
>   class Foo
>   {
>   private:
>       Example m_First;
>       Example m_Second;
>
>   public:
>       Foo()
>           : m_First(1),
>             m_Second(2)
>       {}
>   };
>   ```
>
> * è¿™æ ·ä¸€çœ¼å°±èƒ½çœ‹å‡ºå®é™…çš„åˆå§‹åŒ–é¡ºåºï¼Œä¹Ÿèƒ½é¿å…å› ä¸ºæˆå‘˜ä¹‹é—´æœ‰ä¾èµ–å…³ç³»æ—¶å‡ºç°éšè”½çš„ Bugã€‚

---

## éšå¼è½¬æ¢ä¸ explicit å…³é”®å­— (Implicit Conversion & explicit Keyword)

è¿™ä¸€éƒ¨åˆ†ç»“åˆæ•™ç¨‹ç¬¬ 41p å’Œ `main.cpp` ä¸­çš„ `Entity` ä¾‹å­ï¼Œæ€»ç»“ C++ é‡Œçš„**éšå¼è½¬æ¢ (Implicit Conversion)** ä»¥åŠå¦‚ä½•ç”¨ `explicit` å…³é”®å­—ï¼ˆexplicit Keywordï¼‰æ§åˆ¶å®ƒã€‚

### 1. ä¸€ä¸ªå…¸å‹ä¾‹å­ï¼šä» `int` / `std::string` åˆ° `Entity`

`main.cpp` ä¸­çš„ä»£ç ï¼š

```cpp
class Entity
{
private:
    std::string m_name;
    int m_Age;

public:
    Entity(const std::string& name)
        : m_name(name), m_Age(-1) {}

    Entity(int age)
        : m_name("Unknown"), m_Age(age) {}
};

void PrintEntity(const Entity& entity)
{
    // æ‰“å°é€»è¾‘ç•¥
}

int main()
{
    PrintEntity(22);                  // ğŸ‘ˆ ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠ 22 è½¬æˆ Entity(22)
    PrintEntity(std::string("Bob")); // ğŸ‘ˆ è‡ªåŠ¨è°ƒç”¨ Entity(const std::string&)
    PrintEntity(Entity("Alice"));   // æ˜¾ç¤ºæ„é€ ï¼ˆæ˜¾å¼è½¬æ¢ï¼‰
}
```

è¿™é‡Œæœ‰ä¸¤ç§**ä»å…¶å®ƒç±»å‹åˆ° `Entity` çš„è½¬æ¢**ï¼š

1. `int â†’ Entity`ï¼šé€šè¿‡ `Entity(int age)` æ„é€ å‡½æ•°ï¼›
2. `std::string â†’ Entity`ï¼šé€šè¿‡ `Entity(const std::string& name)` æ„é€ å‡½æ•°ã€‚

> [!IMPORTANT]
> **åªå¸¦ä¸€ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯â€œéšå¼è½¬æ¢æ„é€ å‡½æ•°â€**
>
> * å½“å‡½æ•°å‚æ•°ç±»å‹æ˜¯ `Entity`ï¼ˆæˆ– `const Entity&`ï¼‰ï¼Œä½†ä½ ä¼ è¿›å»çš„æ˜¯ `int` / `std::string` æ—¶ï¼Œ
>   ç¼–è¯‘å™¨ä¼šå°è¯•è°ƒç”¨è¿™äº›â€œå•å‚æ•°æ„é€ å‡½æ•°â€æ¥**è‡ªåŠ¨æ„é€ ä¸€ä¸ªä¸´æ—¶ `Entity` å¯¹è±¡**ã€‚
> * è¿™å°±æ˜¯æ‰€è°“çš„â€œéšå¼è½¬æ¢ (Implicit Conversion)â€ï¼š
>   ä½ æ²¡æœ‰å†™ `Entity(22)`ï¼Œä½†ç¼–è¯‘å™¨å¸®ä½ è‡ªåŠ¨è¡¥ä¸Šäº†ã€‚

è¿™åœ¨æœ‰äº›åœºæ™¯ä¸‹éå¸¸æ–¹ä¾¿ï¼Œä½†ä¹Ÿå¯èƒ½å¸¦æ¥â€œå¤ªèªæ˜åè€Œå‡º bugâ€çš„é—®é¢˜ã€‚

### 2. ä¸ºä½•è¦ç”¨ explicitï¼šç¦æ­¢æ„å¤–çš„éšå¼è½¬æ¢

å‡è®¾æˆ‘ä»¬ä¸å¸Œæœ› `PrintEntity(22);` è¿™ç§å†™æ³•æˆç«‹ï¼Œåªå¸Œæœ›è°ƒç”¨è€…æ˜ç¡®åœ°å†™å‡ºâ€œæˆ‘è¦æ„é€ ä¸€ä¸ª `Entity`â€ï¼š

```cpp
class Entity
{
private:
    std::string m_name;
    int m_Age;

public:
    explicit Entity(const std::string& name)
        : m_name(name), m_Age(-1) {}

    explicit Entity(int age)               // åŠ ä¸Š explicit å…³é”®å­—ï¼Œé˜²æ­¢éšå¼è½¬æ¢
        : m_name("Unknown"), m_Age(age) {}
};

void PrintEntity(const Entity& entity)
{
}

int main()
{
    // PrintEntity(22);                   // âŒ ç¼–è¯‘é”™è¯¯ï¼šä¸å†å…è®¸ä» int éšå¼è½¬æ¢ä¸º Entity
    // PrintEntity(std::string("Bob"));   // âŒ åŒç†ï¼Œéœ€è¦æ˜¾å¼æ„é€ 
    PrintEntity(Entity("Alice"));        // âœ… æ˜¾å¼æ„é€ ï¼ŒOK

    // æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•°
    Entity a = Entity("cherno");
    Entity b = Entity(25);
    Entity c("cherno");
    Entity d(25);
}
```

> [!TIP]
> **explicitï¼ˆexplicit Keywordï¼‰çš„ä½œç”¨**
>
> * æ”¾åœ¨æ„é€ å‡½æ•°å‰é¢ï¼Œè¡¨ç¤ºâ€œ**ç¦æ­¢ç¼–è¯‘å™¨åœ¨éœ€è¦è¿™ä¸ªç±»å‹çš„åœ°æ–¹è‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ„é€ å‡½æ•°åšéšå¼è½¬æ¢**â€ï¼›
> * æ¢å¥è¯è¯´ï¼š
>   * å…è®¸ `Entity e(10);`ã€`Entity e = Entity(10);` è¿™æ ·çš„**æ˜¾å¼æ„é€ **ï¼›
>   * ç¦æ­¢ `PrintEntity(10);` è¿™ç§**éšå¼æ„é€  + ä¼ å‚**ã€‚

### 3. ä»€ä¹ˆæ—¶å€™åº”è¯¥è®©æ„é€ å‡½æ•°æ”¯æŒéšå¼è½¬æ¢ï¼Ÿ

å¹¶ä¸æ˜¯æ‰€æœ‰å•å‚æ•°æ„é€ å‡½æ•°éƒ½è¦åŠ  `explicit`ï¼Œç»éªŒä¸Šå¯ä»¥è¿™æ ·åŒºåˆ†ï¼š

1. **â€œå¾ˆè‡ªç„¶â€çš„è½¬æ¢**ï¼Œé€‚åˆä¿ç•™éšå¼è½¬æ¢ï¼š

   * ä¾‹å¦‚ `std::string` æœ‰ä¸€ä¸ª `std::string(const char* s)` æ„é€ å‡½æ•°ï¼š

     ```cpp
     void Print(const std::string& s);

     Print("hello");  // ğŸ‘ˆ ä» const char* åˆ° std::string çš„éšå¼è½¬æ¢éå¸¸è‡ªç„¶
     ```

   * è¿™ç§â€œä» C å­—ç¬¦ä¸²åˆ° C++ å­—ç¬¦ä¸²â€çš„è½¬æ¢å‡ ä¹æ²¡æœ‰æ­§ä¹‰ï¼Œä¿ç•™éšå¼è½¬æ¢å¯ä»¥å¤§å¤§æé«˜æ˜“ç”¨æ€§ã€‚

2. **æœ‰æ­§ä¹‰/å¯èƒ½è¯¯ç”¨çš„è½¬æ¢**ï¼Œæ¨èåŠ ä¸Š `explicit`ï¼š

   * æ¯”å¦‚ `Entity(int age)`ï¼š
     * `PrintEntity(22);` ä¹ä¸€çœ‹åƒæ˜¯â€œæ‰“å°ä¸€ä¸ªæ•´æ•°â€ï¼›
     * å®é™…ä¸Šå´æ˜¯åœ¨æ„é€ ä¸€ä¸ª `Entity` å†æ‰“å°ï¼Œå¾ˆå®¹æ˜“åŸ‹å‘ï¼›
   * è¿™ç§åœºæ™¯æ›´é€‚åˆå¼ºåˆ¶å†™æˆ `PrintEntity(Entity(22));`ï¼Œä»£ç å«ä¹‰æ›´æ¸…æ™°ã€‚

> [!IMPORTANT]
> **ç»éªŒæ³•åˆ™**
>
> * å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°ä»£è¡¨çš„æ˜¯â€œç±»å‹ä¹‹é—´**å®½æ¾çš„ã€è‡ªç„¶çš„**è½¬æ¢â€ï¼ˆå¦‚ `const char* â†’ std::string`ï¼‰ï¼Œå¯ä»¥è€ƒè™‘å…è®¸éšå¼è½¬æ¢ï¼›
> * å¦‚æœè¿™ä¸ªè½¬æ¢è¯­ä¹‰ä¸Šä¸å¤Ÿç›´è§‚ï¼Œæˆ–è€…å°†æ¥å¾ˆå¯èƒ½å¼•èµ·è¯¯è§£/äºŒä¹‰æ€§ï¼Œ**ä¸€å¾‹åŠ ä¸Š `explicit`**ï¼Œå¼ºåˆ¶è°ƒç”¨è€…å†™å‡ºè½¬æ¢æ„å›¾ã€‚

### 4. é™¤äº†æ„é€ å‡½æ•°ï¼ŒC++ é‡Œè¿˜æœ‰â€œè½¬æ¢å‡½æ•°â€

æ›´å®Œæ•´çš„ C++ è¿˜æ”¯æŒ**ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢å‡½æ•° (User-Defined Conversion Function)**ï¼š

```cpp
class Vec2
{
public:
    float x, y;

    // è½¬æ¢å‡½æ•°ï¼šå…è®¸ Vec2 éšå¼è½¬æ¢ä¸º floatï¼ˆé•¿åº¦ï¼‰
    operator float() const
    {
        return std::sqrt(x * x + y * y);
    }
};

void PrintLength(float len);

void Foo()
{
    Vec2 v{3.0f, 4.0f};
    PrintLength(v); // ğŸ‘ˆ ç¼–è¯‘å™¨ä¼šè°ƒç”¨ operator float() æŠŠ v è½¬æˆé•¿åº¦ 5.0f
}
```

è¿™ä¸ªä¹Ÿå¯ä»¥åŠ  `explicit`ï¼ˆä» C++11 å¼€å§‹ï¼‰ï¼Œæ¥ç¦æ­¢éšå¼ä½¿ç”¨ï¼Œåªå…è®¸æ˜¾å¼å†™ `static_cast<float>(v)`ã€‚è¿™å’Œåœ¨æ„é€ å‡½æ•°å‰åŠ  `explicit` çš„æ€æƒ³å®Œå…¨ä¸€æ ·ï¼š

> [!TIP]
> **ç»Ÿä¸€ç†è§£**
>
> * éšå¼è½¬æ¢ (Implicit Conversion)ï¼šç¼–è¯‘å™¨è‡ªåŠ¨å¸®ä½ åœ¨ç±»å‹ä¹‹é—´â€œæ­æ¡¥â€ï¼›
> * `explicit`ï¼ˆexplicit Keywordï¼‰ï¼šå‘Šè¯‰ç¼–è¯‘å™¨â€œ**è¿™åº§æ¡¥å¿…é¡»ç”±æˆ‘æ‰‹åŠ¨èµ°**ï¼Œä½ ä¸è¦å·å·å¸¦æˆ‘è¿‡å»â€ã€‚

åœ¨å½“å‰é˜¶æ®µï¼Œä½ ä¸»è¦å…ˆæŠŠâ€œå•å‚æ•°æ„é€ å‡½æ•° + explicitâ€çš„ä¹ æƒ¯å…»å¥½ï¼Œåé¢é‡åˆ°ç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢å‡½æ•°æ—¶ï¼Œä¼šå‘ç°ä¸¤è€…çš„è®¾è®¡æ€æƒ³æ˜¯ä¸€è‡´çš„ã€‚

---

## è¿ç®—ç¬¦ä¸è¿ç®—ç¬¦é‡è½½ (Operators & Operator Overloading)

è¿™ä¸€éƒ¨åˆ†ç»“åˆæ•™ç¨‹ç¬¬ 42p å’Œ `main.cpp` ä¸­çš„ `Vector2` ä¾‹å­ï¼Œæ€»ç»“ C++ ä¸­**è¿ç®—ç¬¦ (Operator)** ä»¥åŠ**è¿ç®—ç¬¦é‡è½½ (Operator Overloading)** çš„å¸¸è§ç”¨æ³•å’Œè®¾è®¡ä¹ æƒ¯ã€‚

### 1. å…ˆçœ‹ä¸€ä¸ªæ²¡æœ‰è¿ç®—ç¬¦é‡è½½çš„å†™æ³•

å‡è®¾æœ‰ä¸€ä¸ªäºŒç»´å‘é‡ç±»å‹ï¼ˆä¾‹å¦‚åš 2D æ¸¸æˆçš„åæ ‡ï¼‰ï¼š

```cpp
struct Vector2
{
    float x, y;

    Vector2(float x, float y)
        : x(x), y(y) {}

    Vector2 Add(const Vector2& other) const
    {
        return Vector2(x + other.x, y + other.y);
    }

    Vector2 Multiply(const Vector2& other) const
    {
        return Vector2(x * other.x, y * other.y);
    }
};

int main()
{
    Vector2 position(4.0f, 4.0f);
    Vector2 speed(0.5f, 1.5f);
    Vector2 powerup(1.1f, 1.1f);

    // åœ¨ Java ä¸­é€šå¸¸åªèƒ½è¿™æ ·å†™ï¼šé€šè¿‡å‡½æ•°ç»„åˆ
    Vector2 result1 = position.Add(speed.Multiply(powerup));
}
```

è¿™ç§å†™æ³•å®Œå…¨æ²¡é—®é¢˜ï¼Œä½†å¯¹äºâ€œæ•°å­¦å¯¹è±¡â€æ¥è¯´ï¼Œä¸å¤Ÿç›´è§‚ã€‚å¦‚æœèƒ½å†™æˆ `position + speed * powerup` ä¼šæ›´è´´è¿‘æ•°å­¦å…¬å¼ã€‚

### 2. ç»™ Vector2 é‡è½½è¿ç®—ç¬¦

åœ¨ C++ ä¸­ï¼Œå¯ä»¥ç»™è‡ªå®šä¹‰ç±»å‹é‡è½½è¿ç®—ç¬¦ï¼Œè®©å®ƒä»¬æ”¯æŒ `+`ã€`*`ã€`==` ç­‰æ“ä½œï¼š

```cpp
struct Vector2
{
    float x, y;

    Vector2(float x, float y)
        : x(x), y(y) {}

    // æ™®é€šæˆå‘˜å‡½æ•°ç‰ˆæœ¬ï¼ˆä¾¿äºå¤ç”¨é€»è¾‘ï¼‰
    Vector2 Add(const Vector2& other) const
    {
        return Vector2(x + other.x, y + other.y);
    }

    Vector2 Multiply(const Vector2& other) const
    {
        return Vector2(x * other.x, y * other.y);
    }

    // è¿ç®—ç¬¦é‡è½½ï¼šåŠ æ³•
    Vector2 operator+(const Vector2& other) const
    {
        // æ¨èå†™æ³•ï¼šè¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨å·²æœ‰çš„å‡½æ•°ï¼Œä¿æŒé€»è¾‘é›†ä¸­
        return Add(other);
    }

    // è¿ç®—ç¬¦é‡è½½ï¼šé€å…ƒç´ ç›¸ä¹˜
    Vector2 operator*(const Vector2& other) const
    {
        return Multiply(other);
    }

    // è¿ç®—ç¬¦é‡è½½ï¼šç›¸ç­‰æ¯”è¾ƒ
    bool operator==(const Vector2& other) const
    {
        return x == other.x && y == other.y;
    }

    bool operator!=(const Vector2& other) const
    {
        return !(*this == other);
    }
};

// é‡è½½è¾“å‡ºè¿ç®—ç¬¦ (Operator<<)ï¼Œæ–¹ä¾¿ç›´æ¥æ‰“å°
std::ostream& operator<<(std::ostream& stream, const Vector2& other)
{
    stream << other.x << ", " << other.y;
    return stream;              // è¿”å› stream ä»¥æ”¯æŒé“¾å¼è°ƒç”¨
}

int main()
{
    Vector2 position(4.0f, 4.0f);
    Vector2 speed(0.5f, 1.5f);
    Vector2 powerup(1.1f, 1.1f);

    // åœ¨ Java ä¸­è¿™æ˜¯å”¯ä¸€å†™æ³•ï¼š
    Vector2 result1 = position.Add(speed.Multiply(powerup));

    // åœ¨ C++ / C# ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿ç®—ç¬¦é‡è½½ï¼Œè®©ä»£ç æ›´æ¥è¿‘æ•°å­¦å…¬å¼ï¼š
    Vector2 result2 = position + speed * powerup;

    if (result1 == result2)
        std::cout << "The results are equal!" << std::endl;

    if (result1 != result2)
        std::cout << "The result is not a zero vector!" << std::endl;

    std::cout << result2 << std::endl; // åˆ©ç”¨ operator<< æ‰“å°å‘é‡
}
```

> [!IMPORTANT]
> **è¿ç®—ç¬¦é‡è½½çš„æœ¬è´¨**
>
> * `a + b` åªæ˜¯ `a.operator+(b)` æˆ– `operator+(a, b)` çš„ä¸€ç§è¯­æ³•ç³–ï¼›
> * `a == b` å¯¹åº” `a.operator==(b)`ï¼›
> * `std::cout << value` å¯¹åº”å…¨å±€å‡½æ•° `operator<<(std::ostream&, const T&)`ï¼›
> * è¿ç®—ç¬¦é‡è½½ä¸ä¼šâ€œä¿®æ”¹è¯­è¨€è§„åˆ™â€ï¼Œåªæ˜¯è®©ä½ èƒ½ä¸ºè‡ªå®šä¹‰ç±»å‹å®šä¹‰è¿™äº›â€œè¿ç®—ç¬¦å¯¹åº”çš„å‡½æ•°â€ã€‚

### 3. ä¸ºä»€ä¹ˆåŒæ—¶ä¿ç•™å‡½æ•°ç‰ˆæœ¬å’Œè¿ç®—ç¬¦ç‰ˆæœ¬ï¼Ÿ

åœ¨ä¸Šé¢çš„ä»£ç é‡Œï¼Œæ—¢æœ‰ `Add` / `Multiply` è¿™æ ·çš„æ™®é€šæˆå‘˜å‡½æ•°ï¼Œåˆæœ‰ `operator+` / `operator*`ï¼š

```cpp
Vector2 Add(const Vector2& other) const;
Vector2 Multiply(const Vector2& other) const;

Vector2 operator+(const Vector2& other) const;
Vector2 operator*(const Vector2& other) const;
```

è¿™ä¹ˆåšæœ‰å‡ ä¸ªå¥½å¤„ï¼š

* **é€»è¾‘å¤ç”¨**ï¼šè¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨ `Add` / `Multiply`ï¼Œå¦‚æœä»¥åæ”¹è®¡ç®—é€»è¾‘ï¼Œåªéœ€è¦æ”¹ä¸€å¤„ï¼›
* **å¯è¯»æ€§é€‰æ‹©**ï¼š
  * æ•°å­¦/å‡ ä½•åœºæ™¯ä¸‹ï¼Œ`a + b * c` ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ„æ€ï¼›
  * æŸäº›ä¸é€‚åˆç”¨è¿ç®—ç¬¦è¡¨è¾¾çš„åœºæ™¯ï¼ˆä¾‹å¦‚ `Normalize`ã€`Rotate`ï¼‰ï¼Œå¯ä»¥ç»§ç»­ç”¨æ™®é€šæˆå‘˜å‡½æ•°ï¼›
* **è¯­è¨€å…¼å®¹æ€ç»´**ï¼šåœ¨ä¸æ”¯æŒè¿ç®—ç¬¦é‡è½½çš„è¯­è¨€ï¼ˆä¾‹å¦‚ Javaï¼‰é‡Œï¼Œ`Add` / `Multiply` å°±æ˜¯å”¯ä¸€é€‰æ‹©ï¼Œä¿æŒè¿™å¥—æ¥å£å¯ä»¥å¸®åŠ©ä½ æ›´å¥½è¿ç§»æ€ç»´ã€‚

> [!TIP]
> **æ¨èçš„å†™æ³•ä¹ æƒ¯**
>
> * å®šä¹‰ä¸€ä¸ªè¯­ä¹‰æ¸…æ™°çš„æ™®é€šå‡½æ•°ï¼ˆä¾‹å¦‚ `Add` / `Multiply`ï¼‰ï¼›
> * åœ¨å¯¹åº”çš„ `operator+` / `operator*` ä¸­**ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°**ï¼›
> * è¿™æ ·æ—¢ä¿ç•™äº†â€œå‡½æ•°è°ƒç”¨é£æ ¼â€ï¼Œåˆäº«å—äº†â€œè¿ç®—ç¬¦è¡¨è¾¾å¼â€çš„ç®€æ´ã€‚

### 4. è¿ç®—ç¬¦é‡è½½çš„è®¾è®¡å»ºè®®

è™½ç„¶ C++ æ”¯æŒç»™å‡ ä¹æ‰€æœ‰è¿ç®—ç¬¦é‡è½½ï¼Œä½†**å¹¶ä¸æ˜¯åº”è¯¥åˆ°å¤„ä¹±ç”¨**ã€‚ä¸€äº›å¸¸è§çš„å»ºè®®ï¼š

> [!IMPORTANT]
> **ä»€ä¹ˆæ—¶å€™é€‚åˆé‡è½½è¿ç®—ç¬¦ï¼Ÿ**
>
> * ç±»å‹æœ¬èº«å°±æ˜¯â€œæ•°å­¦å¯¹è±¡â€æˆ–â€œå€¼è¯­ä¹‰å¯¹è±¡â€ï¼šå¦‚å‘é‡ (vector)ã€çŸ©é˜µ (matrix)ã€å¤æ•° (complex number)ã€å­—ç¬¦ä¸² (string) ç­‰ï¼›
> * è¿ç®—ç¬¦çš„è¯­ä¹‰ä¸æ•°å­¦æˆ–ç›´è§‰ä¸€è‡´ï¼š
>   * `+` è¡¨ç¤ºâ€œåˆå¹¶ / ç›¸åŠ â€ï¼›
>   * `-` è¡¨ç¤ºâ€œç›¸å‡â€ï¼›
>   * `*` å¯¹å‘é‡å¯ä»¥è¡¨ç¤ºç‚¹ä¹˜/å‰ä¹˜/é€å…ƒç´ ä¹˜ï¼ˆæ³¨æ„è¦åœ¨æ–‡æ¡£é‡Œè¯´æ˜æ¸…æ¥šï¼‰ï¼›
>   * `==` / `!=` è¡¨ç¤ºç›¸ç­‰æ€§æ¯”è¾ƒï¼›
>   * `<<` å¸¸ç”¨äºâ€œæ‰“å°åˆ°è¾“å‡ºæµ (Output Stream)â€ï¼›
> * è¯»ä»£ç çš„äººçœ‹åˆ° `a + b` æ—¶ï¼Œèƒ½å¤§è‡´çŒœå‡ºå‘ç”Ÿäº†ä»€ä¹ˆï¼Œè€Œä¸æ˜¯å®Œå…¨æ„æ–™ä¹‹å¤–çš„å‰¯ä½œç”¨ã€‚

> [!NOTE]
> **ä»€ä¹ˆæ—¶å€™è¦è°¨æ…ä½¿ç”¨è¿ç®—ç¬¦é‡è½½ï¼Ÿ**
>
> * å¦‚æœè¿ç®—ç¬¦åšçš„äº‹æƒ…å’Œå®ƒåœ¨æ•°å­¦ä¸Šçš„ç›´è§‰æ„æ€å®Œå…¨ä¸ç¬¦ï¼ˆä¾‹å¦‚ `operator+` é‡Œåšäº†æ–‡ä»¶å†™å…¥æˆ–ç½‘ç»œè¯·æ±‚ï¼‰ï¼›
> * å¦‚æœé‡è½½å¯¼è‡´è¡¨è¾¾å¼éš¾ä»¥ç†è§£ã€éš¾ä»¥è°ƒè¯•ï¼ˆä¾‹å¦‚é‡è½½ `&&` / `||` éšè—æ§åˆ¶æµï¼‰ï¼›
> * å¦‚æœåªæ˜¯ä¸ºäº†â€œç‚«æŠ€â€ï¼Œè€Œä¸æ˜¯è®©ä»£ç æ›´å¥½è¯»ã€‚

æ€»ä½“æ€è·¯æ˜¯ï¼š

* è¿ç®—ç¬¦é‡è½½çš„ç›®æ ‡æ˜¯**æå‡å¯è¯»æ€§å’Œè¡¨è¾¾åŠ›**ï¼Œè€Œä¸æ˜¯åˆ¶é€ â€œé­”æ³•â€ï¼›
* çœ‹çœ‹åŒæ ·é€»è¾‘ç”¨â€œæ™®é€šå‡½æ•°è°ƒç”¨æ–¹å¼â€å’Œâ€œè¿ç®—ç¬¦æ–¹å¼â€è°æ›´æ¸…æ¥šï¼Œå¦‚æœè¿ç®—ç¬¦ç‰ˆæœ¬è®©äººä¸€çœ¼å°±æ‡‚ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªå¥½çš„é‡è½½åœºæ™¯ã€‚

---

## ç±»çš„ç»§æ‰¿ (Inheritance)

è¿™ä¸€éƒ¨åˆ†ç”¨ `Entity` / `Player` çš„ä¾‹å­ï¼Œç†è§£å‡ ä»¶äº‹ï¼š

1. `class Player : public Entity` é‡Œçš„ `public` æ˜¯åœ¨æ§åˆ¶**ç»§æ‰¿åçš„å¯è§æ€§**ï¼Œä¸æ˜¯â€œåªç»§æ‰¿ public æˆå‘˜â€ã€‚
2. æ´¾ç”Ÿç±»å¯¹è±¡å†…å­˜å¸ƒå±€ä¸­ï¼Œ**å§‹ç»ˆåŒ…å«ä¸€ä¸ªå®Œæ•´çš„åŸºç±»å­å¯¹è±¡**ã€‚
3. æˆå‘˜çš„å¯¹é½ï¼ˆalignmentï¼‰å’Œè¡¥é½ï¼ˆpaddingï¼‰ä¼šå½±å“ `sizeof` çš„ç»“æœã€‚

### ä»£ç ç¤ºä¾‹

```cpp
class Entity
{
private:
    int ID;      // ç§æœ‰æˆå‘˜ï¼Œä»ç„¶å æ®å¯¹è±¡å†…å­˜ï¼Œä½†æ´¾ç”Ÿç±»ä»£ç ä¸èƒ½ç›´æ¥è®¿é—®

public:
    float X, Y;

    void Move(float xa, float ya)
    {
        X += xa;
        Y += ya;
    }
};

class Player : public Entity   // public ç»§æ‰¿ï¼šPlayer æ˜¯ä¸€ç§ Entity
{
public:
    const char* Name;          // æ–°å¢æˆå‘˜ï¼šåå­—æŒ‡é’ˆ

    void PrintName()
    {
        std::cout << Name << std::endl;
    }
};

int main()
{
    std::cout << sizeof(Entity) << std::endl;
    std::cout << sizeof(Player) << std::endl;
}
```

åœ¨ 64 ä½ç¯å¢ƒä¸‹ï¼ˆ`int` 4 å­—èŠ‚ï¼Œ`float` 4 å­—èŠ‚ï¼ŒæŒ‡é’ˆ 8 å­—èŠ‚ï¼‰ï¼Œå¯èƒ½çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š

```text
12
24
```

### æ€è€ƒè¿‡ç¨‹å°ç»“ï¼šè™šå‡½æ•°ä¸ç»‘å®šæ–¹å¼

> [!IMPORTANT]
> **public ç»§æ‰¿çš„å«ä¹‰**
>
> * `public` å¹¶ä¸æ˜¯â€œåªç»§æ‰¿ public æˆå‘˜â€ï¼Œè€Œæ˜¯æ§åˆ¶â€œç»§æ‰¿å public/protected æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„å¯è§æ€§â€ã€‚
> * `class Player : public Entity`ï¼š
>   * `Entity` çš„ `public` æˆå‘˜ï¼Œåœ¨ `Player` ä¸­ä»ç„¶æ˜¯ `public`ï¼›
>   * `Entity` çš„ `protected` æˆå‘˜ï¼Œåœ¨ `Player` ä¸­ä»ç„¶æ˜¯ `protected`ï¼›
>   * `Entity` çš„ `private` æˆå‘˜ä»ç„¶å­˜åœ¨äºå¯¹è±¡å†…å­˜é‡Œï¼Œä½†åªèƒ½é€šè¿‡ `Entity` è‡ªå·±ï¼ˆæˆ–å‹å…ƒï¼‰è®¿é—®ï¼Œ`Player` çš„æˆå‘˜å‡½æ•°ä¸èƒ½ç›´æ¥è®¿é—®ã€‚
> * `public` ç»§æ‰¿è¡¨è¾¾çš„æ˜¯â€œis-aâ€ å…³ç³»ï¼š`Player` æ˜¯ä¸€ç§ `Entity`ï¼Œå¯ä»¥åœ¨éœ€è¦ `Entity` çš„åœ°æ–¹ä½¿ç”¨ `Player`ã€‚

> [!IMPORTANT]
> **å¯¹è±¡å†…å­˜å¸ƒå±€ä¸å¯¹é½**
>
> * æ´¾ç”Ÿç±»å¯¹è±¡ä¸­ï¼ŒåŒ…å«ä¸€ä¸ªå®Œæ•´çš„åŸºç±»å­å¯¹è±¡ï¼Œå†åŠ ä¸Šæ´¾ç”Ÿç±»è‡ªå·±çš„æˆå‘˜ã€‚
> * `Entity`ï¼š`int ID` (4) + `float X` (4) + `float Y` (4) â†’ é€»è¾‘å¤§å° 12 å­—èŠ‚ã€‚
> * `Player`ï¼š
>   * å…ˆæ”¾ä¸€ä¸ª `Entity` å­å¯¹è±¡ï¼ˆ12 å­—èŠ‚ï¼Œä¼šä¸ºäº†åç»­æˆå‘˜å¯¹é½è¡¥é½åˆ° 16 `8çš„å€æ•°`ï¼‰ã€‚
>   * å†æ”¾ä¸€ä¸ª 8 å­—èŠ‚çš„æŒ‡é’ˆ `Name`ã€‚
>   * æ‰€ä»¥æ€»å¤§å°é€šå¸¸æ˜¯ 16 + 8 = 24ï¼Œè€Œä¸æ˜¯â€œ12 + 8 = 20â€ã€‚
> * `sizeof` ç»Ÿè®¡çš„æ˜¯â€œæ•°æ®æˆå‘˜ + å¯¹é½å¡«å……â€ï¼Œä¸åŒ…å«æˆå‘˜å‡½æ•°ä»£ç ã€static æˆå‘˜ç­‰ã€‚

> [!TIP]
> **å¦‚ä½•ç›´è§‚ç†è§£ sizeof çš„å˜åŒ–**
>
> * å…ˆæŒ‰é¡ºåºå†™å‡ºæ‰€æœ‰æˆå‘˜çš„å¤§å°ï¼Œå†è€ƒè™‘å¯¹é½è¦æ±‚ï¼ˆé€šå¸¸æ˜¯æœ€å¤§æˆå‘˜ç±»å‹çš„å¯¹é½ï¼Œæ¯”å¦‚æŒ‡é’ˆ 8 å­—èŠ‚ï¼‰ã€‚
> * åŸºç±»ä½œä¸ºå­å¯¹è±¡åµŒå…¥æ´¾ç”Ÿç±»æ—¶ï¼Œä¹Ÿè¦æŒ‰ç…§æ´¾ç”Ÿç±»çš„å¯¹é½éœ€æ±‚è¿›è¡Œè¡¥é½ï¼Œè¿™ä¼šè®©â€œåªå¤šäº† 4 å­—èŠ‚â€åœ¨æ´¾ç”Ÿç±»ä¸­è¡¨ç°ä¸ºå¤šå‡º 8 ç”šè‡³æ›´å¤šã€‚
> * å¯ä»¥ç”¨ `static_assert(sizeof(...))` æˆ–æ‰“å° `sizeof` çš„æ–¹å¼ï¼Œé…åˆå›¾ç¤ºå¸®åŠ©è‡ªå·±å»ºç«‹â€œå¯¹è±¡å¸ƒå±€â€çš„ç›´è§‰ã€‚

---

## è™šå‡½æ•°ä¸å¤šæ€ (Virtual Functions & Polymorphism)

è¿™ä¸€éƒ¨åˆ†ç”¨ `Entity` / `Player` çš„ä¾‹å­ç†è§£ï¼š

1. éè™šå‡½æ•°è°ƒç”¨æ˜¯**é™æ€ç»‘å®š**ï¼šçœ‹çš„æ˜¯æŒ‡é’ˆ/å¼•ç”¨çš„ã€Œç±»å‹ã€ã€‚
2. è™šå‡½æ•°è°ƒç”¨æ˜¯**åŠ¨æ€ç»‘å®š**ï¼šçœ‹çš„æ˜¯æŒ‡é’ˆ/å¼•ç”¨å®é™…æŒ‡å‘å¯¹è±¡çš„ã€ŒçœŸå®ç±»å‹ã€ã€‚
3. å¤šæ€çš„å…¸å‹å†™æ³•æ˜¯ï¼šç”¨åŸºç±»æŒ‡é’ˆ/å¼•ç”¨æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œé€šè¿‡è™šå‡½æ•°å®ç°â€œåŒä¸€æ¥å£ï¼Œä¸åŒè¡Œä¸ºâ€ã€‚

åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¼•å…¥**çº¯è™šå‡½æ•° (pure virtual)** å’Œ **æŠ½è±¡ç±» (abstract class)** çš„æ¦‚å¿µï¼Œå¯ä»¥å®šä¹‰ä¸€ç»„â€œå¿…é¡»ç”±å­ç±»å®ç°çš„æ¥å£â€ã€‚

### ä»£ç ç¤ºä¾‹ï¼šéè™šå‡½æ•° vs è™šå‡½æ•°

```cpp
#include <iostream>
// #include "Log.h"

class Entity
{
public:
    // std::string GetName() { return "Entity"; }
    virtual std::string GetName() { return "Entity"; }
};

class Player : public Entity
{
private:
    std::string m_Name;
public:
    Player(const std::string& name)
        : m_Name(name)
    {

    }
    // std::string GetName() { return m_Name; }
    std::string GetName() override { return m_Name; }
};

int main()
{
    Entity* e = new Entity();
    std::cout << e->GetName() << std::endl;

    Player* p = new Player("Bob");
    std::cout << p->GetName() << std::endl;

    Entity* e2 = p;
    std::cout << e2->GetName() << std::endl;

    return 0;
}                
```

### æ€è€ƒè¿‡ç¨‹å°ç»“

> [!IMPORTANT]
> **é™æ€ç»‘å®š vs åŠ¨æ€ç»‘å®š**
>
> * éè™šå‡½æ•°è°ƒç”¨ï¼ˆæ²¡æœ‰ `virtual`ï¼‰ï¼š
>   * ç¼–è¯‘æœŸå°±æ ¹æ®â€œæŒ‡é’ˆ/å¼•ç”¨çš„ç±»å‹â€å†³å®šè°ƒç”¨å“ªä¸ªç‰ˆæœ¬ï¼Œç§°ä¸º**é™æ€ç»‘å®š**ã€‚
>   * `Entity* e = &p; e->GetName();` ä¼šè°ƒç”¨ `Entity::GetName`ï¼Œå³ä½¿ `e` å®é™…æŒ‡å‘çš„æ˜¯ `Player` å¯¹è±¡ã€‚
> * è™šå‡½æ•°è°ƒç”¨ï¼ˆå¸¦ `virtual`ï¼‰ï¼š
>   * è¿è¡Œæ—¶æ ¹æ®â€œæŒ‡é’ˆ/å¼•ç”¨å®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹â€æ¥å†³å®šè°ƒç”¨å“ªä¸ªç‰ˆæœ¬ï¼Œç§°ä¸º**åŠ¨æ€ç»‘å®š**æˆ–å¤šæ€ã€‚
>   * `Entity2* e = &p; e->GetName();` ä¼šè°ƒç”¨ `Player2::GetName`ï¼Œå› ä¸ºåº•å±‚çœŸå®å¯¹è±¡æ˜¯ `Player2`ã€‚

> [!TIP]
> **ä½•æ—¶ä½¿ç”¨è™šå‡½æ•°**
>
> * æœ‰ä¸€ä¸ªç»Ÿä¸€çš„â€œåŸºç±»æ¥å£â€ï¼ˆå¦‚ `GetName()` / `Update()` / `Draw()`ï¼‰ï¼Œè€Œå…·ä½“è¡Œä¸ºç”±ä¸åŒå­ç±»å®ç°æ—¶ï¼Œå°±åº”è¯¥åœ¨åŸºç±»ä¸Šå£°æ˜ä¸º `virtual`ã€‚
> * é€šè¿‡åŸºç±»æŒ‡é’ˆ/å¼•ç”¨ï¼ˆå¦‚ `Entity*` æˆ– `Entity&`ï¼‰æ“ä½œä¸€ç»„ä¸åŒå­ç±»å¯¹è±¡æ—¶ï¼Œè™šå‡½æ•°å¯ä»¥è®©è°ƒç”¨ç«¯â€œä¸å…³å¿ƒå…·ä½“ç±»å‹â€ï¼Œåªå…³å¿ƒæ¥å£ã€‚
> * å¤šæ€åŸºç±»é€šå¸¸è¿˜è¦æä¾›ä¸€ä¸ª `virtual` ææ„å‡½æ•°ï¼Œä¿è¯é€šè¿‡åŸºç±»æŒ‡é’ˆ `delete` æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ææ„é“¾å®Œæ•´æ‰§è¡Œã€‚

### çº¯è™šå‡½æ•°ä¸æŠ½è±¡ç±»

```cpp
#include <iostream>
// #include "Log.h"

class Printable
{
public:
    virtual std::string GetClassName() = 0;  
};

class Entity : public Printable
{
public:
    virtual std::string GetName() { return "Entity"; }
    std::string GetClassName() override { return "Entity"; } // å®ç°çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ Entity ä¹Ÿæ˜¯æŠ½è±¡ç±»ï¼ˆä¸èƒ½ newï¼‰
};

class Player : public Entity
{
private:
    std::string m_Name;
public:
    Player(const std::string& name)
        : m_Name(name)
    {

    }
    // std::string GetName() override { return m_Name; }
    std::string GetClassName() override { return "Player"; } 
};

void Print (Printable* e)
{   
    std::cout << e->GetClassName() << std::endl;
}

int main()
{
    Entity* e = new Entity();
    Print(e);
    Player* p = new Player("Bob");
    Print(p);
    // Entity* e2 = p;
    // Print(e2);
    return 0;
}
```

> [!IMPORTANT]
> **çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»çš„å…³ç³»**
>
> * å«æœ‰è‡³å°‘ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼ˆ`= 0`ï¼‰çš„ç±»ç§°ä¸ºâ€œæŠ½è±¡ç±» (abstract class)ï¼Œä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼š`Printable p;` / `new Printable()` éƒ½æ˜¯éæ³•çš„ã€‚
> * æŠ½è±¡ç±»é€šå¸¸ç”¨ä½œâ€œæ¥å£ç±»â€ï¼šåªå®šä¹‰å‡½æ•°ç­¾åï¼ˆæ¥å£ï¼‰ï¼Œå…·ä½“å®ç°äº¤ç»™å­ç±»å®Œæˆã€‚
> * å¦‚æœæ´¾ç”Ÿç±»ï¼ˆå¦‚ `Entity`ï¼‰æ²¡æœ‰å®ç°æ‰€æœ‰ç»§æ‰¿æ¥çš„çº¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒæœ¬èº«ä¹Ÿä¼šæ˜¯æŠ½è±¡ç±»ï¼ŒåŒæ ·æ— æ³•è¢«å®ä¾‹åŒ–ã€‚

> [!TIP]
> **å¤šæ€ + æ¥å£çš„å¸¸è§ç»„åˆ**
>
> * ç”¨ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼ˆå¦‚ `Printable`ï¼‰å£°æ˜ä¸€ç»„çº¯è™šå‡½æ•°ï¼Œå®šä¹‰â€œè¿™ä¸ªå®¶æ—çš„é€šç”¨èƒ½åŠ›â€ã€‚
> * å„ä¸ªå­ç±»ï¼ˆ`Entity` / `Player` / å…¶ä»–ï¼‰å®ç°è¿™äº›çº¯è™šå‡½æ•°ï¼Œæä¾›å„è‡ªçš„è¡Œä¸ºã€‚
> * å¯¹å¤–åªæš´éœ²ä¸€ä¸ªæ¥å—åŸºç±»æŒ‡é’ˆ/å¼•ç”¨çš„æ¥å£ï¼ˆå¦‚ `void Print(Printable* p)`ï¼‰ï¼Œè°ƒç”¨ç«¯å®Œå…¨ä¸éœ€è¦å…³å¿ƒä¼ è¿›æ¥çš„æ˜¯å“ªä¸ªå…·ä½“å­ç±»ï¼Œåªå…³å¿ƒå¯ä»¥è°ƒç”¨å“ªäº›è™šå‡½æ•°ã€‚


---

## è®¿é—®æ§åˆ¶ä¸å°è£… (Access Control & Encapsulation)

è®¿é—®æ§åˆ¶å…³é”®å­— `public` / `private` / `protected` ä¸ä¼šæ”¹å˜â€œç¨‹åºæ˜¯å¦èƒ½è·‘èµ·æ¥â€ï¼ˆåªè¦ä½ ä¸å»å†™éæ³•ä»£ç ï¼‰ï¼Œä½†ä¼šæå¤§å½±å“ï¼š

* å¯¹å¤–æš´éœ²çš„ **API è¾¹ç•Œ** æ˜¯ä»€ä¹ˆï¼›
* ä»¥åèƒ½å¦åœ¨**ä¸æ”¹è°ƒç”¨æ–¹ä»£ç **çš„å‰æä¸‹é‡æ„å®ç°ï¼›
* ç±»å†…éƒ¨ç»†èŠ‚æ˜¯å¦è¢«â€œéšä¾¿ä¾èµ–â€ï¼Œå¯¼è‡´ç»´æŠ¤æˆæœ¬è¶Šæ¥è¶Šé«˜ã€‚

### åŸºæœ¬è¯­ä¹‰å›é¡¾

```cpp
class Entity
{
public:      // å¯¹æ‰€æœ‰åœ°æ–¹å¯è§ï¼ˆç±»å†…ã€ç±»å¤–ã€å­ç±»ï¼‰
    void Move(float xa, float ya);

protected:   // åªå¯¹æœ¬ç±»å’Œå­ç±»å¯è§ï¼Œå¯¹ç±»å¤–éšè—
    int X, Y;
    void PrintPosition();

private:     // åªå¯¹æœ¬ç±»å¯è§ï¼Œè¿å­ç±»éƒ½ä¸èƒ½ç›´æ¥è®¿é—®
    int m_ID;
};

class Player : public Entity
{
public:
    Player()
    {
        X = 10;              // âœ… å¯ä»¥è®¿é—®åŸºç±»çš„ protected æˆå‘˜
        Y = 20;
        PrintPosition();     // âœ… è°ƒç”¨åŸºç±»çš„ protected æˆå‘˜å‡½æ•°
        // m_ID = 1;        // âŒ ä¸å…è®¸è®¿é—®åŸºç±»çš„ private æˆå‘˜
    }
};

int main()
{
    Entity e;
    // e.X = 5;             // âŒ X æ˜¯ protectedï¼Œç±»å¤–ä¸å¯è®¿é—®
    // e.PrintPosition();   // âŒ åŒä¸Š
    e.Move(1.0f, 2.0f);     // âœ… é€šè¿‡ public æ¥å£æ“ä½œå¯¹è±¡
}
```

> [!IMPORTANT]
> **ä¸‰ç§è®¿é—®çº§åˆ«çš„ç›´è§‚è®°å¿†**
>
> * `public`ï¼š**ç»™æ‰€æœ‰äººç”¨çš„**ï¼Œæ˜¯è¿™ä¸ªç±»å¯¹å¤–æ‰¿è¯ºçš„ç¨³å®šæ¥å£ã€‚
> * `protected`ï¼š**ç»™è‡ªå·±å’Œå­ç±»ç”¨çš„**ï¼Œæ˜¯ç»§æ‰¿ä½“ç³»å†…éƒ¨å…±äº«çš„å®ç°ç»†èŠ‚ã€‚
> * `private`ï¼š**åªç»™è‡ªå·±ç”¨çš„**ï¼Œå®Œå…¨å†…éƒ¨å®ç°ï¼Œä»»ä½•å¤–éƒ¨ä»£ç éƒ½ä¸åº”è¯¥ç›´æ¥ä¾èµ–ã€‚

### ä»€ä¹ˆæ—¶å€™ç”¨ publicï¼Ÿ

> [!TIP]
> å¯ä»¥æŠŠ `public` ç†è§£æˆâ€œè¿™ä¸ªç±»å¯¹å¤–å…¬å¼€çš„ API æ–‡æ¡£â€ï¼š
>
> * æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ï¼ˆå¦‚æœéœ€è¦å¯¹å¤–åˆ›å»º/é”€æ¯ï¼‰ã€‚
> * ä¸šåŠ¡åŠ¨ä½œï¼šä¾‹å¦‚ `Move()`ã€`Attack()`ã€`Update()`ã€`Draw()`ã€‚
> * å¯¹å¤–æŸ¥è¯¢çŠ¶æ€çš„åªè¯»å‡½æ•°ï¼šä¾‹å¦‚ `GetX()`ã€`GetName()`ã€`IsAlive()`ã€‚
>
> ä¸€æ—¦æŸä¸ªæˆå‘˜è¢«æ ‡è®°ä¸º `public`ï¼Œè°ƒç”¨æ–¹å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨å®ƒï¼Œä½ ä¹‹åè¦ä¿®æ”¹è¿™ä¸ªæ¥å£å°±å¿…é¡»è€ƒè™‘æ‰€æœ‰è°ƒç”¨ç‚¹çš„å½±å“ã€‚

å®è·µç»éªŒï¼š

* **é»˜è®¤ä¸è¦æ€¥ç€ public**ï¼Œå…ˆå‡è®¾æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å†…éƒ¨å®ç°ï¼›
* å½“ä½ å‘ç°â€œå¤–éƒ¨ç¡®å®éœ€è¦è°ƒç”¨è¿™æ®µé€»è¾‘â€æ—¶ï¼Œå†æŠŠå®ƒå‡çº§ä¸º `public` æ¥å£ï¼›
* `public` åŒºåŸŸä¿æŒå°½é‡å°è€Œå¹²å‡€ï¼Œè®©è°ƒç”¨æ–¹ä¸€çœ¼å°±èƒ½çœ‹å‡ºâ€œè¿™ä¸ªç±»æ˜¯å¹²ä»€ä¹ˆçš„ã€æˆ‘èƒ½æ€ä¹ˆç”¨å®ƒâ€ã€‚

### ä»€ä¹ˆæ—¶å€™ç”¨ privateï¼Ÿ

> [!IMPORTANT]
> åªè¦æ˜¯â€œå®ç°ç»†èŠ‚â€è€Œä¸æ˜¯â€œå¯¹å¤–æ‰¿è¯ºâ€ï¼Œå°±åº”è¯¥ä¼˜å…ˆè®¾ä¸º `private`ï¼š
>
> * å†…éƒ¨ä½¿ç”¨çš„è¾…åŠ©å‡½æ•°ï¼Œä¾‹å¦‚ `RecalculateBounds()`ã€`ReloadConfig()`ï¼›
> * ä¸å¸Œæœ›è¢«å¤–éƒ¨éšä¾¿æ”¹çš„å†…éƒ¨çŠ¶æ€ï¼Œä¾‹å¦‚ `m_ID`ã€ç¼“å­˜å­—æ®µã€ä¸´æ—¶æ ‡å¿—ä½ï¼›
> * ä»»ä½•ä½ â€œä»¥åå¯èƒ½ä¼šæ”¹æ‰/åˆ æ‰/é‡æ„â€çš„ä¸œè¥¿ï¼Œéƒ½é€‚åˆè—åœ¨ `private` é‡Œã€‚

è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š

* å¤–éƒ¨ä»£ç **æ²¡æ³•ç›´æ¥ä¾èµ–ä½ çš„å†…éƒ¨å®ç°**ï¼Œæœªæ¥ä½ å¯ä»¥æ”¾å¿ƒåœ°é‡å†™å®ç°ï¼Œåªè¦ç»´æŒ `public` æ¥å£ä¸å˜å³å¯ï¼›
* å¦‚æœå‘ç°æŸä¸ªåŠŸèƒ½â€œå¤–éƒ¨ç¡®å®éœ€è¦â€ï¼Œå¯ä»¥éšæ—¶æŠŠå¯¹åº”æˆå‘˜ä» `private` æå‡ä¸º `public` æˆ–åŠ ä¸€ä¸ª `public` åŒ…è£…å‡½æ•°ã€‚

### ä»€ä¹ˆæ—¶å€™ç”¨ protectedï¼Ÿ

`protected` ä¸»è¦ç”¨äºæœ‰ç»§æ‰¿å…³ç³»æ—¶ï¼Œåœ¨â€œå®Œå…¨å°æ­»çš„ privateâ€å’Œâ€œå®Œå…¨å¼€æ”¾çš„ publicâ€ä¹‹é—´æä¾›ä¸€ä¸ªæŠ˜ä¸­ï¼š

* è®©åŸºç±»å’Œæ´¾ç”Ÿç±»ä¹‹é—´å¯ä»¥å…±äº«ä¸€äº›å†…éƒ¨å®ç°ç»†èŠ‚ï¼›
* ä½†ä»ç„¶ä¸å¯¹æ™®é€šè°ƒç”¨æ–¹æš´éœ²è¿™äº›å®ç°ã€‚

å…¸å‹ä¾‹å­å°±æ˜¯ä¸Šé¢çš„ `X, Y` å’Œ `PrintPosition()`ï¼š

* ä½œä¸ºè°ƒç”¨æ–¹ï¼Œåªéœ€è¦ä¸€ä¸ª `Move()` æ¥å£ï¼Œä¸éœ€è¦çŸ¥é“åæ ‡æ˜¯æ€ä¹ˆå­˜å‚¨/æ‰“å°çš„ï¼›
* ä½œä¸ºæ´¾ç”Ÿç±»ï¼ˆ`Player`ã€`Enemy`ï¼‰ï¼Œå¯èƒ½éœ€è¦åœ¨æŸäº›æƒ…å†µä¸‹ç›´æ¥è¯»å†™åæ ‡æˆ–æ‰“å°è°ƒè¯•ä¿¡æ¯ï¼Œè¿™æ—¶è®¿é—® `protected` æˆå‘˜ä¼šæ¯”èµ°ä¸€å † `public` åŒ…è£…å‡½æ•°æ›´æ–¹ä¾¿ã€‚

> [!NOTE]
> ä½¿ç”¨ `protected` æ—¶è¦å…‹åˆ¶ï¼š
>
> * å¦‚æœä½ ç¡®å®šè¿™ä¸ªä¿¡æ¯åªä¼šåœ¨åŸºç±»å†…éƒ¨ç”¨ï¼Œä¼˜å…ˆ `private`ï¼›
> * åªæœ‰å½“â€œç¡®å®éœ€è¦åœ¨å¤šä¸ªæ´¾ç”Ÿç±»é‡Œé‡å¤ç”¨åˆ°è¿™æ®µå†…éƒ¨é€»è¾‘â€æ—¶ï¼Œæ‰è€ƒè™‘æŠŠå®ƒæåˆ° `protected`ï¼›
> * ä¸€å‘³æŠŠä¸œè¥¿éƒ½è®¾ä¸º `protected`ï¼Œä¼šè®©æ•´ä¸ªç»§æ‰¿å±‚çº§å˜æˆâ€œåŠå…¬å¼€â€çš„çŠ¶æ€ï¼Œå­ç±»ä¹‹é—´äº’ç›¸è¸©æ¥è¸©å»ï¼Œåè€Œéš¾ä»¥ç»´æŠ¤ã€‚

### å°ç»“ï¼šè®¿é—®æ§åˆ¶æ›´å¤šæ˜¯â€œè®¾è®¡é—®é¢˜â€

ä»ç¼–è¯‘å™¨è§’åº¦çœ‹ï¼Œ`public` / `private` / `protected` åªæ˜¯è®¿é—®æƒé™æ£€æŸ¥è§„åˆ™ï¼Œä¸ä¼šæ”¹å˜å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼Œä¹Ÿä¸ä¼šæ”¹å˜â€œè¯­æ³•æ­£ç¡®çš„ä»£ç â€è¿è¡Œå‡ºæ¥çš„ç»“æœã€‚

ä½†ä»å·¥ç¨‹å®è·µè§’åº¦çœ‹ï¼š

> [!IMPORTANT]
> **è®¿é—®æ§åˆ¶æœ¬è´¨ä¸Šæ˜¯â€œå¸®ä½ åˆ’æ¸…è¾¹ç•Œâ€çš„å·¥å…·**ï¼š
>
> * `public` å®šä¹‰ç±»çš„â€œå¯¹å¤–æ‰¿è¯ºâ€å’Œé•¿æœŸç¨³å®šçš„æ¥å£ï¼›
> * `protected` ä¸ºç»§æ‰¿å±‚çº§æä¾›ä¸€ä¸ªå…±äº«å®ç°çš„â€œå†…éƒ¨é€šé“â€ï¼›
> * `private` æŠŠå®ç°ç»†èŠ‚é”åœ¨ç±»å†…éƒ¨ï¼Œé˜²æ­¢è¢«éšæ„ä¾èµ–ã€‚

è¿™ä¹Ÿæ˜¯å¾ˆå¤šæ•™ç¨‹ï¼ˆåŒ…æ‹¬ Chernoï¼‰å¼ºè°ƒçš„ï¼š

* ä¸è¦çº ç»“â€œè®¿é—®æ§åˆ¶ä¼šä¸ä¼šå½±å“æ€§èƒ½/èƒ½ä¸èƒ½è·‘â€ï¼Œ
* æ›´é‡è¦çš„æ˜¯ç”¨å®ƒæ¥è¡¨è¾¾ä½ çš„**è®¾è®¡æ„å›¾**ï¼Œè®©è¯»ä½ ä»£ç çš„äººä¸€çœ¼å°±èƒ½çœ‹å‡ºï¼š
  * è¿™ä¸ªç±»çœŸæ­£æä¾›ç»™å¤–éƒ¨ç”¨çš„æ˜¯ä»€ä¹ˆï¼›
  * å“ªäº›åªæ˜¯å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œéšæ—¶å¯èƒ½ä¼šå˜ã€‚





